{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"require('dotenv').config();\nconst express = require('express');\nconst app = express();\nconst path = require('path');\nconst cors = require('cors');\nconst corsOptions = require('./config/corsOptions');\nconst {\n  logger\n} = require('./middleware/logEvents');\nconst errorHandler = require('./middleware/errorHandler');\nconst verifyJWT = require('./middleware/verifyJWT');\nconst cookieParser = require('cookie-parser');\nconst credentials = require('./middleware/credentials');\nconst mongoose = require('mongoose');\nconst connectDB = require('./config/dbConn');\nconst PORT = process.env.PORT || 3500;\n\n// Connect to MongoDB\n\nconnectDB();\n\n// custom middleware logger\napp.use(logger);\n\n// Handle options credentials check - before CORS!\n// and fetch cookies credentials requirements\napp.use(credentials);\n\n// Cross Origin Resource Sharing\napp.use(cors(corsOptions));\n\n// built-in middleware to handle urlencoded form data\napp.use(express.urlencoded({\n  extended: false\n}));\n\n// built-in middleware for json \napp.use(express.json());\n\n// middleware for cookies\napp.use(cookieParser());\n\n//serve static files\napp.use('/', express.static(path.join(__dirname, '/public')));\n\n// routes\napp.use('/', require('./routes/root'));\napp.use('/register', require('./routes/register'));\napp.use('/auth', require('./routes/auth'));\napp.use('/refresh', require('./routes/refresh'));\napp.use('/logout', require('./routes/logout'));\napp.use('/empleado', require('./routes/empleado.route'));\napp.use('/gasto', require('./routes/gasto'));\napp.use('/inventario', require('./routes/inventario'));\napp.use(verifyJWT);\napp.use('/employees', require('./routes/api/employees'));\napp.all('*', (req, res) => {\n  res.status(404);\n  if (req.accepts('html')) {\n    res.sendFile(path.join(__dirname, 'views', '404.html'));\n  } else if (req.accepts('json')) {\n    res.json({\n      \"error\": \"404 Not Found\"\n    });\n  } else {\n    res.type('txt').send(\"404 Not Found\");\n  }\n});\napp.use(errorHandler);\nmongoose.connection.once('open', () => {\n  console.log('Connected to MongoDB');\n  app.listen(PORT, () => console.log(`Server running on port ${PORT}`));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZXhwcmVzcyIsImFwcCIsInBhdGgiLCJjb3JzIiwiY29yc09wdGlvbnMiLCJsb2dnZXIiLCJlcnJvckhhbmRsZXIiLCJ2ZXJpZnlKV1QiLCJjb29raWVQYXJzZXIiLCJjcmVkZW50aWFscyIsIm1vbmdvb3NlIiwiY29ubmVjdERCIiwiUE9SVCIsInByb2Nlc3MiLCJlbnYiLCJ1c2UiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwic3RhdGljIiwiam9pbiIsIl9fZGlybmFtZSIsImFsbCIsInJlcSIsInJlcyIsInN0YXR1cyIsImFjY2VwdHMiLCJzZW5kRmlsZSIsInR5cGUiLCJzZW5kIiwiY29ubmVjdGlvbiIsIm9uY2UiLCJjb25zb2xlIiwibG9nIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTtcclxuY29uc3QgY29yc09wdGlvbnMgPSByZXF1aXJlKCcuL2NvbmZpZy9jb3JzT3B0aW9ucycpO1xyXG5jb25zdCB7IGxvZ2dlciB9ID0gcmVxdWlyZSgnLi9taWRkbGV3YXJlL2xvZ0V2ZW50cycpO1xyXG5jb25zdCBlcnJvckhhbmRsZXIgPSByZXF1aXJlKCcuL21pZGRsZXdhcmUvZXJyb3JIYW5kbGVyJyk7XHJcbmNvbnN0IHZlcmlmeUpXVCA9IHJlcXVpcmUoJy4vbWlkZGxld2FyZS92ZXJpZnlKV1QnKTtcclxuY29uc3QgY29va2llUGFyc2VyID0gcmVxdWlyZSgnY29va2llLXBhcnNlcicpO1xyXG5jb25zdCBjcmVkZW50aWFscyA9IHJlcXVpcmUoJy4vbWlkZGxld2FyZS9jcmVkZW50aWFscycpO1xyXG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IGNvbm5lY3REQiA9IHJlcXVpcmUoJy4vY29uZmlnL2RiQ29ubicpO1xyXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzNTAwO1xyXG5cclxuLy8gQ29ubmVjdCB0byBNb25nb0RCXHJcblxyXG5jb25uZWN0REIoKTtcclxuXHJcbi8vIGN1c3RvbSBtaWRkbGV3YXJlIGxvZ2dlclxyXG5hcHAudXNlKGxvZ2dlcik7XHJcblxyXG4vLyBIYW5kbGUgb3B0aW9ucyBjcmVkZW50aWFscyBjaGVjayAtIGJlZm9yZSBDT1JTIVxyXG4vLyBhbmQgZmV0Y2ggY29va2llcyBjcmVkZW50aWFscyByZXF1aXJlbWVudHNcclxuYXBwLnVzZShjcmVkZW50aWFscyk7XHJcblxyXG4vLyBDcm9zcyBPcmlnaW4gUmVzb3VyY2UgU2hhcmluZ1xyXG5hcHAudXNlKGNvcnMoY29yc09wdGlvbnMpKTtcclxuXHJcbi8vIGJ1aWx0LWluIG1pZGRsZXdhcmUgdG8gaGFuZGxlIHVybGVuY29kZWQgZm9ybSBkYXRhXHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcclxuXHJcbi8vIGJ1aWx0LWluIG1pZGRsZXdhcmUgZm9yIGpzb24gXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5cclxuLy8gbWlkZGxld2FyZSBmb3IgY29va2llc1xyXG5hcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcclxuXHJcbi8vc2VydmUgc3RhdGljIGZpbGVzXHJcbmFwcC51c2UoJy8nLCBleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnL3B1YmxpYycpKSk7XHJcblxyXG4vLyByb3V0ZXNcclxuYXBwLnVzZSgnLycsIHJlcXVpcmUoJy4vcm91dGVzL3Jvb3QnKSk7XHJcbmFwcC51c2UoJy9yZWdpc3RlcicsIHJlcXVpcmUoJy4vcm91dGVzL3JlZ2lzdGVyJykpO1xyXG5hcHAudXNlKCcvYXV0aCcsIHJlcXVpcmUoJy4vcm91dGVzL2F1dGgnKSk7XHJcbmFwcC51c2UoJy9yZWZyZXNoJywgcmVxdWlyZSgnLi9yb3V0ZXMvcmVmcmVzaCcpKTtcclxuYXBwLnVzZSgnL2xvZ291dCcsIHJlcXVpcmUoJy4vcm91dGVzL2xvZ291dCcpKTtcclxuYXBwLnVzZSgnL2VtcGxlYWRvJywgcmVxdWlyZSgnLi9yb3V0ZXMvZW1wbGVhZG8ucm91dGUnKSk7XHJcbmFwcC51c2UoJy9nYXN0bycsIHJlcXVpcmUoJy4vcm91dGVzL2dhc3RvJykpO1xyXG5hcHAudXNlKCcvaW52ZW50YXJpbycsIHJlcXVpcmUoJy4vcm91dGVzL2ludmVudGFyaW8nKSk7XHJcblxyXG5cclxuYXBwLnVzZSh2ZXJpZnlKV1QpO1xyXG5hcHAudXNlKCcvZW1wbG95ZWVzJywgcmVxdWlyZSgnLi9yb3V0ZXMvYXBpL2VtcGxveWVlcycpKTtcclxuXHJcbmFwcC5hbGwoJyonLCAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KTtcclxuICAgIGlmIChyZXEuYWNjZXB0cygnaHRtbCcpKSB7XHJcbiAgICAgICAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsICd2aWV3cycsICc0MDQuaHRtbCcpKTtcclxuICAgIH0gZWxzZSBpZiAocmVxLmFjY2VwdHMoJ2pzb24nKSkge1xyXG4gICAgICAgIHJlcy5qc29uKHsgXCJlcnJvclwiOiBcIjQwNCBOb3QgRm91bmRcIiB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnR5cGUoJ3R4dCcpLnNlbmQoXCI0MDQgTm90IEZvdW5kXCIpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmFwcC51c2UoZXJyb3JIYW5kbGVyKTtcclxuXHJcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub25jZSgnb3BlbicsICgpID0+e1xyXG4gICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBNb25nb0RCJyk7XHJcbiAgICBhcHAubGlzdGVuKFBPUlQsICgpID0+IGNvbnNvbGUubG9nKGBTZXJ2ZXIgcnVubmluZyBvbiBwb3J0ICR7UE9SVH1gKSk7XHJcbn0pXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQ0MsTUFBTSxFQUFFO0FBQzFCLE1BQU1DLE9BQU8sR0FBR0YsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNRyxHQUFHLEdBQUdELE9BQU8sRUFBRTtBQUNyQixNQUFNRSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsTUFBTUssSUFBSSxHQUFHTCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1NLFdBQVcsR0FBR04sT0FBTyxDQUFDLHNCQUFzQixDQUFDO0FBQ25ELE1BQU07RUFBRU87QUFBTyxDQUFDLEdBQUdQLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztBQUNwRCxNQUFNUSxZQUFZLEdBQUdSLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztBQUN6RCxNQUFNUyxTQUFTLEdBQUdULE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztBQUNuRCxNQUFNVSxZQUFZLEdBQUdWLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDN0MsTUFBTVcsV0FBVyxHQUFHWCxPQUFPLENBQUMsMEJBQTBCLENBQUM7QUFDdkQsTUFBTVksUUFBUSxHQUFHWixPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU1hLFNBQVMsR0FBR2IsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBQzVDLE1BQU1jLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLElBQUksSUFBSSxJQUFJOztBQUVyQzs7QUFFQUQsU0FBUyxFQUFFOztBQUVYO0FBQ0FWLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDVixNQUFNLENBQUM7O0FBRWY7QUFDQTtBQUNBSixHQUFHLENBQUNjLEdBQUcsQ0FBQ04sV0FBVyxDQUFDOztBQUVwQjtBQUNBUixHQUFHLENBQUNjLEdBQUcsQ0FBQ1osSUFBSSxDQUFDQyxXQUFXLENBQUMsQ0FBQzs7QUFFMUI7QUFDQUgsR0FBRyxDQUFDYyxHQUFHLENBQUNmLE9BQU8sQ0FBQ2dCLFVBQVUsQ0FBQztFQUFFQyxRQUFRLEVBQUU7QUFBTSxDQUFDLENBQUMsQ0FBQzs7QUFFaEQ7QUFDQWhCLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDZixPQUFPLENBQUNrQixJQUFJLEVBQUUsQ0FBQzs7QUFFdkI7QUFDQWpCLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDUCxZQUFZLEVBQUUsQ0FBQzs7QUFFdkI7QUFDQVAsR0FBRyxDQUFDYyxHQUFHLENBQUMsR0FBRyxFQUFFZixPQUFPLENBQUNtQixNQUFNLENBQUNqQixJQUFJLENBQUNrQixJQUFJLENBQUNDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDOztBQUU3RDtBQUNBcEIsR0FBRyxDQUFDYyxHQUFHLENBQUMsR0FBRyxFQUFFakIsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3RDRyxHQUFHLENBQUNjLEdBQUcsQ0FBQyxXQUFXLEVBQUVqQixPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQztBQUNsREcsR0FBRyxDQUFDYyxHQUFHLENBQUMsT0FBTyxFQUFFakIsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQzFDRyxHQUFHLENBQUNjLEdBQUcsQ0FBQyxVQUFVLEVBQUVqQixPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUNoREcsR0FBRyxDQUFDYyxHQUFHLENBQUMsU0FBUyxFQUFFakIsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDOUNHLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDLFdBQVcsRUFBRWpCLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0FBQ3hERyxHQUFHLENBQUNjLEdBQUcsQ0FBQyxRQUFRLEVBQUVqQixPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUM1Q0csR0FBRyxDQUFDYyxHQUFHLENBQUMsYUFBYSxFQUFFakIsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFHdERHLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDUixTQUFTLENBQUM7QUFDbEJOLEdBQUcsQ0FBQ2MsR0FBRyxDQUFDLFlBQVksRUFBRWpCLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0FBRXhERyxHQUFHLENBQUNxQixHQUFHLENBQUMsR0FBRyxFQUFFLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3ZCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUM7RUFDZixJQUFJRixHQUFHLENBQUNHLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtJQUNyQkYsR0FBRyxDQUFDRyxRQUFRLENBQUN6QixJQUFJLENBQUNrQixJQUFJLENBQUNDLFNBQVMsRUFBRSxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUM7RUFDM0QsQ0FBQyxNQUFNLElBQUlFLEdBQUcsQ0FBQ0csT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0lBQzVCRixHQUFHLENBQUNOLElBQUksQ0FBQztNQUFFLE9BQU8sRUFBRTtJQUFnQixDQUFDLENBQUM7RUFDMUMsQ0FBQyxNQUFNO0lBQ0hNLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDQyxJQUFJLENBQUMsZUFBZSxDQUFDO0VBQ3pDO0FBQ0osQ0FBQyxDQUFDO0FBRUY1QixHQUFHLENBQUNjLEdBQUcsQ0FBQ1QsWUFBWSxDQUFDO0FBRXJCSSxRQUFRLENBQUNvQixVQUFVLENBQUNDLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBSztFQUNsQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7RUFDbkNoQyxHQUFHLENBQUNpQyxNQUFNLENBQUN0QixJQUFJLEVBQUUsTUFBTW9CLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLDBCQUF5QnJCLElBQUssRUFBQyxDQUFDLENBQUM7QUFDekUsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["require","config","express","app","path","cors","corsOptions","logger","errorHandler","verifyJWT","cookieParser","credentials","mongoose","connectDB","PORT","process","env","use","urlencoded","extended","json","static","join","__dirname","all","req","res","status","accepts","sendFile","type","send","connection","once","console","log","listen"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\","sources":["server.js"],"sourcesContent":["require('dotenv').config();\r\nconst express = require('express');\r\nconst app = express();\r\nconst path = require('path');\r\nconst cors = require('cors');\r\nconst corsOptions = require('./config/corsOptions');\r\nconst { logger } = require('./middleware/logEvents');\r\nconst errorHandler = require('./middleware/errorHandler');\r\nconst verifyJWT = require('./middleware/verifyJWT');\r\nconst cookieParser = require('cookie-parser');\r\nconst credentials = require('./middleware/credentials');\r\nconst mongoose = require('mongoose');\r\nconst connectDB = require('./config/dbConn');\r\nconst PORT = process.env.PORT || 3500;\r\n\r\n// Connect to MongoDB\r\n\r\nconnectDB();\r\n\r\n// custom middleware logger\r\napp.use(logger);\r\n\r\n// Handle options credentials check - before CORS!\r\n// and fetch cookies credentials requirements\r\napp.use(credentials);\r\n\r\n// Cross Origin Resource Sharing\r\napp.use(cors(corsOptions));\r\n\r\n// built-in middleware to handle urlencoded form data\r\napp.use(express.urlencoded({ extended: false }));\r\n\r\n// built-in middleware for json \r\napp.use(express.json());\r\n\r\n// middleware for cookies\r\napp.use(cookieParser());\r\n\r\n//serve static files\r\napp.use('/', express.static(path.join(__dirname, '/public')));\r\n\r\n// routes\r\napp.use('/', require('./routes/root'));\r\napp.use('/register', require('./routes/register'));\r\napp.use('/auth', require('./routes/auth'));\r\napp.use('/refresh', require('./routes/refresh'));\r\napp.use('/logout', require('./routes/logout'));\r\napp.use('/empleado', require('./routes/empleado.route'));\r\napp.use('/gasto', require('./routes/gasto'));\r\napp.use('/inventario', require('./routes/inventario'));\r\n\r\n\r\napp.use(verifyJWT);\r\napp.use('/employees', require('./routes/api/employees'));\r\n\r\napp.all('*', (req, res) => {\r\n    res.status(404);\r\n    if (req.accepts('html')) {\r\n        res.sendFile(path.join(__dirname, 'views', '404.html'));\r\n    } else if (req.accepts('json')) {\r\n        res.json({ \"error\": \"404 Not Found\" });\r\n    } else {\r\n        res.type('txt').send(\"404 Not Found\");\r\n    }\r\n});\r\n\r\napp.use(errorHandler);\r\n\r\nmongoose.connection.once('open', () =>{\r\n    console.log('Connected to MongoDB');\r\n    app.listen(PORT, () => console.log(`Server running on port ${PORT}`));\r\n})\r\n"],"mappings":"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"}},"mtime":1668807971670},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\config\\\\corsOptions.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const allowedOrigins = require('./allowedOrigins');\nconst corsOptions = {\n  origin: (origin, callback) => {\n    if (allowedOrigins.indexOf(origin) !== -1 || !origin) {\n      callback(null, true);\n    } else {\n      callback(new Error('Not allowed by CORS'));\n    }\n  },\n  optionsSuccessStatus: 200\n};\nmodule.exports = corsOptions;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbGxvd2VkT3JpZ2lucyIsInJlcXVpcmUiLCJjb3JzT3B0aW9ucyIsIm9yaWdpbiIsImNhbGxiYWNrIiwiaW5kZXhPZiIsIkVycm9yIiwib3B0aW9uc1N1Y2Nlc3NTdGF0dXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xcY29uZmlnXFwiLCJzb3VyY2VzIjpbImNvcnNPcHRpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsbG93ZWRPcmlnaW5zID0gcmVxdWlyZSgnLi9hbGxvd2VkT3JpZ2lucycpO1xyXG5cclxuY29uc3QgY29yc09wdGlvbnMgPSB7XHJcbiAgICBvcmlnaW46IChvcmlnaW4sIGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgaWYgKGFsbG93ZWRPcmlnaW5zLmluZGV4T2Yob3JpZ2luKSAhPT0gLTEgfHwgIW9yaWdpbikge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB0cnVlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignTm90IGFsbG93ZWQgYnkgQ09SUycpKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb3B0aW9uc1N1Y2Nlc3NTdGF0dXM6IDIwMFxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNvcnNPcHRpb25zOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsY0FBYyxHQUFHQyxPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFFbEQsTUFBTUMsV0FBVyxHQUFHO0VBQ2hCQyxNQUFNLEVBQUUsQ0FBQ0EsTUFBTSxFQUFFQyxRQUFRLEtBQUs7SUFDMUIsSUFBSUosY0FBYyxDQUFDSyxPQUFPLENBQUNGLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUNBLE1BQU0sRUFBRTtNQUNsREMsUUFBUSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUM7SUFDeEIsQ0FBQyxNQUFNO01BQ0hBLFFBQVEsQ0FBQyxJQUFJRSxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUM5QztFQUNKLENBQUM7RUFDREMsb0JBQW9CLEVBQUU7QUFDMUIsQ0FBQztBQUVEQyxNQUFNLENBQUNDLE9BQU8sR0FBR1AsV0FBVyJ9","map":{"version":3,"names":["allowedOrigins","require","corsOptions","origin","callback","indexOf","Error","optionsSuccessStatus","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\config\\","sources":["corsOptions.js"],"sourcesContent":["const allowedOrigins = require('./allowedOrigins');\r\n\r\nconst corsOptions = {\r\n    origin: (origin, callback) => {\r\n        if (allowedOrigins.indexOf(origin) !== -1 || !origin) {\r\n            callback(null, true)\r\n        } else {\r\n            callback(new Error('Not allowed by CORS'));\r\n        }\r\n    },\r\n    optionsSuccessStatus: 200\r\n}\r\n\r\nmodule.exports = corsOptions;"],"mappings":"AAAA,MAAMA,cAAc,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAElD,MAAMC,WAAW,GAAG;EAChBC,MAAM,EAAE,CAACA,MAAM,EAAEC,QAAQ,KAAK;IAC1B,IAAIJ,cAAc,CAACK,OAAO,CAACF,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAACA,MAAM,EAAE;MAClDC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC;IACxB,CAAC,MAAM;MACHA,QAAQ,CAAC,IAAIE,KAAK,CAAC,qBAAqB,CAAC,CAAC;IAC9C;EACJ,CAAC;EACDC,oBAAoB,EAAE;AAC1B,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGP,WAAW"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\logEvents.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const {\n  format\n} = require('date-fns');\nconst {\n  v4: uuid\n} = require('uuid');\nconst fs = require('fs');\nconst fsPromises = require('fs').promises;\nconst path = require('path');\nconst logEvents = async (message, logName) => {\n  const dateTime = `${format(new Date(), 'yyyyMMdd\\tHH:mm:ss')}`;\n  const logItem = `${dateTime}\\t${uuid()}\\t${message}\\n`;\n  try {\n    if (!fs.existsSync(path.join(__dirname, '..', 'logs'))) {\n      await fsPromises.mkdir(path.join(__dirname, '..', 'logs'));\n    }\n    await fsPromises.appendFile(path.join(__dirname, '..', 'logs', logName), logItem);\n  } catch (err) {\n    console.log(err);\n  }\n};\nconst logger = (req, res, next) => {\n  logEvents(`${req.method}\\t${req.headers.origin}\\t${req.url}`, 'reqLog.txt');\n  console.log(`${req.method} ${req.path}`);\n  next();\n};\nmodule.exports = {\n  logger,\n  logEvents\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmb3JtYXQiLCJyZXF1aXJlIiwidjQiLCJ1dWlkIiwiZnMiLCJmc1Byb21pc2VzIiwicHJvbWlzZXMiLCJwYXRoIiwibG9nRXZlbnRzIiwibWVzc2FnZSIsImxvZ05hbWUiLCJkYXRlVGltZSIsIkRhdGUiLCJsb2dJdGVtIiwiZXhpc3RzU3luYyIsImpvaW4iLCJfX2Rpcm5hbWUiLCJta2RpciIsImFwcGVuZEZpbGUiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibG9nZ2VyIiwicmVxIiwicmVzIiwibmV4dCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvcmlnaW4iLCJ1cmwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xcbWlkZGxld2FyZVxcIiwic291cmNlcyI6WyJsb2dFdmVudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBmb3JtYXQgfSA9IHJlcXVpcmUoJ2RhdGUtZm5zJyk7XHJcbmNvbnN0IHsgdjQ6IHV1aWQgfSA9IHJlcXVpcmUoJ3V1aWQnKTtcclxuXHJcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuY29uc3QgZnNQcm9taXNlcyA9IHJlcXVpcmUoJ2ZzJykucHJvbWlzZXM7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcblxyXG5jb25zdCBsb2dFdmVudHMgPSBhc3luYyAobWVzc2FnZSwgbG9nTmFtZSkgPT4ge1xyXG4gICAgY29uc3QgZGF0ZVRpbWUgPSBgJHtmb3JtYXQobmV3IERhdGUoKSwgJ3l5eXlNTWRkXFx0SEg6bW06c3MnKX1gO1xyXG4gICAgY29uc3QgbG9nSXRlbSA9IGAke2RhdGVUaW1lfVxcdCR7dXVpZCgpfVxcdCR7bWVzc2FnZX1cXG5gO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicsICdsb2dzJykpKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGZzUHJvbWlzZXMubWtkaXIocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJ2xvZ3MnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBmc1Byb21pc2VzLmFwcGVuZEZpbGUocGF0aC5qb2luKF9fZGlybmFtZSwgJy4uJywgJ2xvZ3MnLCBsb2dOYW1lKSwgbG9nSXRlbSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsb2dnZXIgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGxvZ0V2ZW50cyhgJHtyZXEubWV0aG9kfVxcdCR7cmVxLmhlYWRlcnMub3JpZ2lufVxcdCR7cmVxLnVybH1gLCAncmVxTG9nLnR4dCcpO1xyXG4gICAgY29uc29sZS5sb2coYCR7cmVxLm1ldGhvZH0gJHtyZXEucGF0aH1gKTtcclxuICAgIG5leHQoKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IGxvZ2dlciwgbG9nRXZlbnRzIH07XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtFQUFFQTtBQUFPLENBQUMsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUN0QyxNQUFNO0VBQUVDLEVBQUUsRUFBRUM7QUFBSyxDQUFDLEdBQUdGLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFFcEMsTUFBTUcsRUFBRSxHQUFHSCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLE1BQU1JLFVBQVUsR0FBR0osT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDSyxRQUFRO0FBQ3pDLE1BQU1DLElBQUksR0FBR04sT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUU1QixNQUFNTyxTQUFTLEdBQUcsT0FBT0MsT0FBTyxFQUFFQyxPQUFPLEtBQUs7RUFDMUMsTUFBTUMsUUFBUSxHQUFJLEdBQUVYLE1BQU0sQ0FBQyxJQUFJWSxJQUFJLEVBQUUsRUFBRSxvQkFBb0IsQ0FBRSxFQUFDO0VBQzlELE1BQU1DLE9BQU8sR0FBSSxHQUFFRixRQUFTLEtBQUlSLElBQUksRUFBRyxLQUFJTSxPQUFRLElBQUc7RUFFdEQsSUFBSTtJQUNBLElBQUksQ0FBQ0wsRUFBRSxDQUFDVSxVQUFVLENBQUNQLElBQUksQ0FBQ1EsSUFBSSxDQUFDQyxTQUFTLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUU7TUFDcEQsTUFBTVgsVUFBVSxDQUFDWSxLQUFLLENBQUNWLElBQUksQ0FBQ1EsSUFBSSxDQUFDQyxTQUFTLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzlEO0lBRUEsTUFBTVgsVUFBVSxDQUFDYSxVQUFVLENBQUNYLElBQUksQ0FBQ1EsSUFBSSxDQUFDQyxTQUFTLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRU4sT0FBTyxDQUFDLEVBQUVHLE9BQU8sQ0FBQztFQUNyRixDQUFDLENBQUMsT0FBT00sR0FBRyxFQUFFO0lBQ1ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixHQUFHLENBQUM7RUFDcEI7QUFDSixDQUFDO0FBRUQsTUFBTUcsTUFBTSxHQUFHLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDL0JqQixTQUFTLENBQUUsR0FBRWUsR0FBRyxDQUFDRyxNQUFPLEtBQUlILEdBQUcsQ0FBQ0ksT0FBTyxDQUFDQyxNQUFPLEtBQUlMLEdBQUcsQ0FBQ00sR0FBSSxFQUFDLEVBQUUsWUFBWSxDQUFDO0VBQzNFVCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxHQUFFRSxHQUFHLENBQUNHLE1BQU8sSUFBR0gsR0FBRyxDQUFDaEIsSUFBSyxFQUFDLENBQUM7RUFDeENrQixJQUFJLEVBQUU7QUFDVixDQUFDO0FBRURLLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUVULE1BQU07RUFBRWQ7QUFBVSxDQUFDIn0=","map":{"version":3,"names":["format","require","v4","uuid","fs","fsPromises","promises","path","logEvents","message","logName","dateTime","Date","logItem","existsSync","join","__dirname","mkdir","appendFile","err","console","log","logger","req","res","next","method","headers","origin","url","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\middleware\\","sources":["logEvents.js"],"sourcesContent":["const { format } = require('date-fns');\r\nconst { v4: uuid } = require('uuid');\r\n\r\nconst fs = require('fs');\r\nconst fsPromises = require('fs').promises;\r\nconst path = require('path');\r\n\r\nconst logEvents = async (message, logName) => {\r\n    const dateTime = `${format(new Date(), 'yyyyMMdd\\tHH:mm:ss')}`;\r\n    const logItem = `${dateTime}\\t${uuid()}\\t${message}\\n`;\r\n\r\n    try {\r\n        if (!fs.existsSync(path.join(__dirname, '..', 'logs'))) {\r\n            await fsPromises.mkdir(path.join(__dirname, '..', 'logs'));\r\n        }\r\n\r\n        await fsPromises.appendFile(path.join(__dirname, '..', 'logs', logName), logItem);\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nconst logger = (req, res, next) => {\r\n    logEvents(`${req.method}\\t${req.headers.origin}\\t${req.url}`, 'reqLog.txt');\r\n    console.log(`${req.method} ${req.path}`);\r\n    next();\r\n}\r\n\r\nmodule.exports = { logger, logEvents };\r\n"],"mappings":"AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,UAAU,CAAC;AACtC,MAAM;EAAEC,EAAE,EAAEC;AAAK,CAAC,GAAGF,OAAO,CAAC,MAAM,CAAC;AAEpC,MAAMG,EAAE,GAAGH,OAAO,CAAC,IAAI,CAAC;AACxB,MAAMI,UAAU,GAAGJ,OAAO,CAAC,IAAI,CAAC,CAACK,QAAQ;AACzC,MAAMC,IAAI,GAAGN,OAAO,CAAC,MAAM,CAAC;AAE5B,MAAMO,SAAS,GAAG,OAAOC,OAAO,EAAEC,OAAO,KAAK;EAC1C,MAAMC,QAAQ,GAAI,GAAEX,MAAM,CAAC,IAAIY,IAAI,EAAE,EAAE,oBAAoB,CAAE,EAAC;EAC9D,MAAMC,OAAO,GAAI,GAAEF,QAAS,KAAIR,IAAI,EAAG,KAAIM,OAAQ,IAAG;EAEtD,IAAI;IACA,IAAI,CAACL,EAAE,CAACU,UAAU,CAACP,IAAI,CAACQ,IAAI,CAACC,SAAS,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,EAAE;MACpD,MAAMX,UAAU,CAACY,KAAK,CAACV,IAAI,CAACQ,IAAI,CAACC,SAAS,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IAC9D;IAEA,MAAMX,UAAU,CAACa,UAAU,CAACX,IAAI,CAACQ,IAAI,CAACC,SAAS,EAAE,IAAI,EAAE,MAAM,EAAEN,OAAO,CAAC,EAAEG,OAAO,CAAC;EACrF,CAAC,CAAC,OAAOM,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AACJ,CAAC;AAED,MAAMG,MAAM,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC/BjB,SAAS,CAAE,GAAEe,GAAG,CAACG,MAAO,KAAIH,GAAG,CAACI,OAAO,CAACC,MAAO,KAAIL,GAAG,CAACM,GAAI,EAAC,EAAE,YAAY,CAAC;EAC3ET,OAAO,CAACC,GAAG,CAAE,GAAEE,GAAG,CAACG,MAAO,IAAGH,GAAG,CAAChB,IAAK,EAAC,CAAC;EACxCkB,IAAI,EAAE;AACV,CAAC;AAEDK,MAAM,CAACC,OAAO,GAAG;EAAET,MAAM;EAAEd;AAAU,CAAC"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\errorHandler.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const {\n  logEvents\n} = require('./logEvents');\nconst errorHandler = (err, req, res, next) => {\n  logEvents(`${err.name}: ${err.message}`, 'errLog.txt');\n  console.error(err.stack);\n  res.status(500).send(err.message);\n};\nmodule.exports = errorHandler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJsb2dFdmVudHMiLCJyZXF1aXJlIiwiZXJyb3JIYW5kbGVyIiwiZXJyIiwicmVxIiwicmVzIiwibmV4dCIsIm5hbWUiLCJtZXNzYWdlIiwiY29uc29sZSIsImVycm9yIiwic3RhY2siLCJzdGF0dXMiLCJzZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx3aWxsaVxcRG9jdW1lbnRzXFxHaXRIdWJcXFByb3llY3RvUmVhY3RVbml2ZXJzaWRhZFxcU2VydmVyXFxzcmNcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXMiOlsiZXJyb3JIYW5kbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgbG9nRXZlbnRzIH0gPSByZXF1aXJlKCcuL2xvZ0V2ZW50cycpO1xyXG5cclxuY29uc3QgZXJyb3JIYW5kbGVyID0gKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGxvZ0V2ZW50cyhgJHtlcnIubmFtZX06ICR7ZXJyLm1lc3NhZ2V9YCwgJ2VyckxvZy50eHQnKTtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyLnN0YWNrKVxyXG4gICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyLm1lc3NhZ2UpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGVycm9ySGFuZGxlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUE7QUFBVSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFFNUMsTUFBTUMsWUFBWSxHQUFHLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUMxQ04sU0FBUyxDQUFFLEdBQUVHLEdBQUcsQ0FBQ0ksSUFBSyxLQUFJSixHQUFHLENBQUNLLE9BQVEsRUFBQyxFQUFFLFlBQVksQ0FBQztFQUN0REMsT0FBTyxDQUFDQyxLQUFLLENBQUNQLEdBQUcsQ0FBQ1EsS0FBSyxDQUFDO0VBQ3hCTixHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDVixHQUFHLENBQUNLLE9BQU8sQ0FBQztBQUNyQyxDQUFDO0FBRURNLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHYixZQUFZIn0=","map":{"version":3,"names":["logEvents","require","errorHandler","err","req","res","next","name","message","console","error","stack","status","send","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\middleware\\","sources":["errorHandler.js"],"sourcesContent":["const { logEvents } = require('./logEvents');\r\n\r\nconst errorHandler = (err, req, res, next) => {\r\n    logEvents(`${err.name}: ${err.message}`, 'errLog.txt');\r\n    console.error(err.stack)\r\n    res.status(500).send(err.message);\r\n}\r\n\r\nmodule.exports = errorHandler;"],"mappings":"AAAA,MAAM;EAAEA;AAAU,CAAC,GAAGC,OAAO,CAAC,aAAa,CAAC;AAE5C,MAAMC,YAAY,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1CN,SAAS,CAAE,GAAEG,GAAG,CAACI,IAAK,KAAIJ,GAAG,CAACK,OAAQ,EAAC,EAAE,YAAY,CAAC;EACtDC,OAAO,CAACC,KAAK,CAACP,GAAG,CAACQ,KAAK,CAAC;EACxBN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACV,GAAG,CAACK,OAAO,CAAC;AACrC,CAAC;AAEDM,MAAM,CAACC,OAAO,GAAGb,YAAY"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\root.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst path = require('path');\nrouter.get('^/$|/index(.html)?', (req, res) => {\n  res.sendFile(path.join(__dirname, '..', 'views', 'index.html'));\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInBhdGgiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kRmlsZSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbInJvb3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcclxuXHJcbnJvdXRlci5nZXQoJ14vJHwvaW5kZXgoLmh0bWwpPycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicsICd2aWV3cycsICdpbmRleC5odG1sJykpO1xyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEVBQUU7QUFDL0IsTUFBTUMsSUFBSSxHQUFHSCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBRTVCQyxNQUFNLENBQUNHLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQ0EsR0FBRyxDQUFDQyxRQUFRLENBQUNKLElBQUksQ0FBQ0ssSUFBSSxDQUFDQyxTQUFTLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxZQUFZLENBQUMsQ0FBQztBQUNuRSxDQUFDLENBQUM7QUFFRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUdWLE1BQU0ifQ==","map":{"version":3,"names":["express","require","router","Router","path","get","req","res","sendFile","join","__dirname","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\routes\\","sources":["root.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst path = require('path');\r\n\r\nrouter.get('^/$|/index(.html)?', (req, res) => {\r\n    res.sendFile(path.join(__dirname, '..', 'views', 'index.html'));\r\n});\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC/B,MAAMC,IAAI,GAAGH,OAAO,CAAC,MAAM,CAAC;AAE5BC,MAAM,CAACG,GAAG,CAAC,oBAAoB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC3CA,GAAG,CAACC,QAAQ,CAACJ,IAAI,CAACK,IAAI,CAACC,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;AACnE,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGV,MAAM"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\register.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst registerController = require('../controllers/registerController');\nconst {\n  body\n} = require('express-validator');\nrequire('dotenv').config();\nrouter.post('/', body('email').isEmail().withMessage(\"Formato de correo no v치lido.\"),\n// body('email').isStrongPassword({\n//     minLength: 3,\n//     // minUppercase: 1,\n//     // minNumbers: 1,\n//     // minSymbols: 1,\n//     // minLowerCase: 1\n//   }).withMessage(\"Formato de contrase침a no valido\")\n[registerController.handleNewUser]);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInJlZ2lzdGVyQ29udHJvbGxlciIsImJvZHkiLCJjb25maWciLCJwb3N0IiwiaXNFbWFpbCIsIndpdGhNZXNzYWdlIiwiaGFuZGxlTmV3VXNlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsicmVnaXN0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgcmVnaXN0ZXJDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvcmVnaXN0ZXJDb250cm9sbGVyJyk7XHJcbmNvbnN0IHsgYm9keSB9ID0gcmVxdWlyZSgnZXhwcmVzcy12YWxpZGF0b3InKTtcclxucmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcclxuXHJcbnJvdXRlci5wb3N0KCcvJyxcclxuICAgIGJvZHkoJ2VtYWlsJykuaXNFbWFpbCgpLndpdGhNZXNzYWdlKFwiRm9ybWF0byBkZSBjb3JyZW8gbm8gdsOhbGlkby5cIiksXHJcbiAgICAvLyBib2R5KCdlbWFpbCcpLmlzU3Ryb25nUGFzc3dvcmQoe1xyXG4gICAgLy8gICAgIG1pbkxlbmd0aDogMyxcclxuICAgIC8vICAgICAvLyBtaW5VcHBlcmNhc2U6IDEsXHJcbiAgICAvLyAgICAgLy8gbWluTnVtYmVyczogMSxcclxuICAgIC8vICAgICAvLyBtaW5TeW1ib2xzOiAxLFxyXG4gICAgLy8gICAgIC8vIG1pbkxvd2VyQ2FzZTogMVxyXG4gICAgLy8gICB9KS53aXRoTWVzc2FnZShcIkZvcm1hdG8gZGUgY29udHJhc2XDsWEgbm8gdmFsaWRvXCIpXHJcbiAgICAgW3JlZ2lzdGVyQ29udHJvbGxlci5oYW5kbGVOZXdVc2VyXSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxFQUFFO0FBQy9CLE1BQU1DLGtCQUFrQixHQUFHSCxPQUFPLENBQUMsbUNBQW1DLENBQUM7QUFDdkUsTUFBTTtFQUFFSTtBQUFLLENBQUMsR0FBR0osT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBQzdDQSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUNLLE1BQU0sRUFBRTtBQUUxQkosTUFBTSxDQUFDSyxJQUFJLENBQUMsR0FBRyxFQUNYRixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUNHLE9BQU8sRUFBRSxDQUFDQyxXQUFXLENBQUMsOEJBQThCLENBQUM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQyxDQUFDTCxrQkFBa0IsQ0FBQ00sYUFBYSxDQUFDLENBQUM7QUFFeENDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHVixNQUFNIn0=","map":{"version":3,"names":["express","require","router","Router","registerController","body","config","post","isEmail","withMessage","handleNewUser","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\routes\\","sources":["register.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst registerController = require('../controllers/registerController');\r\nconst { body } = require('express-validator');\r\nrequire('dotenv').config()\r\n\r\nrouter.post('/',\r\n    body('email').isEmail().withMessage(\"Formato de correo no v치lido.\"),\r\n    // body('email').isStrongPassword({\r\n    //     minLength: 3,\r\n    //     // minUppercase: 1,\r\n    //     // minNumbers: 1,\r\n    //     // minSymbols: 1,\r\n    //     // minLowerCase: 1\r\n    //   }).withMessage(\"Formato de contrase침a no valido\")\r\n     [registerController.handleNewUser]);\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC/B,MAAMC,kBAAkB,GAAGH,OAAO,CAAC,mCAAmC,CAAC;AACvE,MAAM;EAAEI;AAAK,CAAC,GAAGJ,OAAO,CAAC,mBAAmB,CAAC;AAC7CA,OAAO,CAAC,QAAQ,CAAC,CAACK,MAAM,EAAE;AAE1BJ,MAAM,CAACK,IAAI,CAAC,GAAG,EACXF,IAAI,CAAC,OAAO,CAAC,CAACG,OAAO,EAAE,CAACC,WAAW,CAAC,8BAA8B,CAAC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACC,CAACL,kBAAkB,CAACM,aAAa,CAAC,CAAC;AAExCC,MAAM,CAACC,OAAO,GAAGV,MAAM"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\registerController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const User = require('../model/User');\nconst bcrypt = require('bcrypt');\nconst {\n  validationResult\n} = require('express-validator');\nconst handleNewUser = async (req, res) => {\n  const {\n    user,\n    pwd,\n    email\n  } = req.body;\n  if (!user || !pwd) return res.status(400).json({\n    'message': 'Username and password are required.'\n  });\n  const errors = validationResult(req);\n  if (!errors.isEmpty()) {\n    return res.status(200).json({\n      errors: errors.array()\n    });\n  }\n\n  // check for duplicate usernames in the db\n  const duplicate = await User.findOne({\n    username: user\n  }).exec();\n  if (duplicate) return res.sendStatus(409); //Conflict \n\n  try {\n    //encrypt the password\n    const hashedPwd = await bcrypt.hash(pwd, 10);\n    //create and store the new user\n    const result = await User.create({\n      \"username\": user,\n      \"password\": hashedPwd,\n      \"email\": email\n    });\n    console.log(result);\n    res.status(201).json({\n      'success': `New user ${user} created!`\n    });\n  } catch (err) {\n    res.status(500).json({\n      'message': err.message\n    });\n  }\n};\nmodule.exports = {\n  handleNewUser\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImJjcnlwdCIsInZhbGlkYXRpb25SZXN1bHQiLCJoYW5kbGVOZXdVc2VyIiwicmVxIiwicmVzIiwidXNlciIsInB3ZCIsImVtYWlsIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJlcnJvcnMiLCJpc0VtcHR5IiwiYXJyYXkiLCJkdXBsaWNhdGUiLCJmaW5kT25lIiwidXNlcm5hbWUiLCJleGVjIiwic2VuZFN0YXR1cyIsImhhc2hlZFB3ZCIsImhhc2giLCJyZXN1bHQiLCJjcmVhdGUiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwibWVzc2FnZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJyZWdpc3RlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVsL1VzZXInKTtcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0Jyk7XHJcbmNvbnN0IHt2YWxpZGF0aW9uUmVzdWx0fSA9IHJlcXVpcmUoJ2V4cHJlc3MtdmFsaWRhdG9yJyk7XHJcblxyXG5jb25zdCBoYW5kbGVOZXdVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7IHVzZXIsIHB3ZCwgZW1haWwgfSA9IHJlcS5ib2R5O1xyXG4gICAgaWYgKCF1c2VyIHx8ICFwd2QpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7ICdtZXNzYWdlJzogJ1VzZXJuYW1lIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWQuJyB9KTtcclxuXHJcblxyXG4gICAgY29uc3QgZXJyb3JzID0gdmFsaWRhdGlvblJlc3VsdChyZXEpO1xyXG4gICAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZXJyb3JzOiBlcnJvcnMuYXJyYXkoKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjaGVjayBmb3IgZHVwbGljYXRlIHVzZXJuYW1lcyBpbiB0aGUgZGJcclxuICAgIGNvbnN0IGR1cGxpY2F0ZSA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiB1c2VyfSkuZXhlYygpO1xyXG4gICAgaWYgKGR1cGxpY2F0ZSkgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwOSk7IC8vQ29uZmxpY3QgXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvL2VuY3J5cHQgdGhlIHBhc3N3b3JkXHJcbiAgICAgICAgY29uc3QgaGFzaGVkUHdkID0gYXdhaXQgYmNyeXB0Lmhhc2gocHdkLCAxMCk7XHJcbiAgICAgICAgLy9jcmVhdGUgYW5kIHN0b3JlIHRoZSBuZXcgdXNlclxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIuY3JlYXRlKCB7IFxyXG4gICAgICAgICAgICBcInVzZXJuYW1lXCI6IHVzZXIsIFxyXG4gICAgICAgICAgICBcInBhc3N3b3JkXCI6IGhhc2hlZFB3ZCxcclxuICAgICAgICAgICAgXCJlbWFpbFwiOiBlbWFpbFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgJ3N1Y2Nlc3MnOiBgTmV3IHVzZXIgJHt1c2VyfSBjcmVhdGVkIWAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7ICdtZXNzYWdlJzogZXJyLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBoYW5kbGVOZXdVc2VyIH07Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDckMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLE1BQU07RUFBQ0U7QUFBZ0IsQ0FBQyxHQUFHRixPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFFdkQsTUFBTUcsYUFBYSxHQUFHLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3RDLE1BQU07SUFBRUMsSUFBSTtJQUFFQyxHQUFHO0lBQUVDO0VBQU0sQ0FBQyxHQUFHSixHQUFHLENBQUNLLElBQUk7RUFDckMsSUFBSSxDQUFDSCxJQUFJLElBQUksQ0FBQ0MsR0FBRyxFQUFFLE9BQU9GLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFBRSxTQUFTLEVBQUU7RUFBc0MsQ0FBQyxDQUFDO0VBR3BHLE1BQU1DLE1BQU0sR0FBR1YsZ0JBQWdCLENBQUNFLEdBQUcsQ0FBQztFQUNwQyxJQUFJLENBQUNRLE1BQU0sQ0FBQ0MsT0FBTyxFQUFFLEVBQUU7SUFDbkIsT0FBT1IsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxNQUFNLEVBQUVBLE1BQU0sQ0FBQ0UsS0FBSztJQUFHLENBQUMsQ0FBQztFQUMzRDs7RUFFQTtFQUNBLE1BQU1DLFNBQVMsR0FBRyxNQUFNaEIsSUFBSSxDQUFDaUIsT0FBTyxDQUFDO0lBQUVDLFFBQVEsRUFBRVg7RUFBSSxDQUFDLENBQUMsQ0FBQ1ksSUFBSSxFQUFFO0VBQzlELElBQUlILFNBQVMsRUFBRSxPQUFPVixHQUFHLENBQUNjLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDOztFQUUzQyxJQUFJO0lBQ0E7SUFDQSxNQUFNQyxTQUFTLEdBQUcsTUFBTW5CLE1BQU0sQ0FBQ29CLElBQUksQ0FBQ2QsR0FBRyxFQUFFLEVBQUUsQ0FBQztJQUM1QztJQUNBLE1BQU1lLE1BQU0sR0FBRyxNQUFNdkIsSUFBSSxDQUFDd0IsTUFBTSxDQUFFO01BQzlCLFVBQVUsRUFBRWpCLElBQUk7TUFDaEIsVUFBVSxFQUFFYyxTQUFTO01BQ3JCLE9BQU8sRUFBRVo7SUFDYixDQUFDLENBQUM7SUFFRmdCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSCxNQUFNLENBQUM7SUFFbkJqQixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUUsU0FBUyxFQUFHLFlBQVdMLElBQUs7SUFBVyxDQUFDLENBQUM7RUFDcEUsQ0FBQyxDQUFDLE9BQU9vQixHQUFHLEVBQUU7SUFDVnJCLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRSxTQUFTLEVBQUVlLEdBQUcsQ0FBQ0M7SUFBUSxDQUFDLENBQUM7RUFDcEQ7QUFDSixDQUFDO0FBRURDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUUxQjtBQUFjLENBQUMifQ==","map":{"version":3,"names":["User","require","bcrypt","validationResult","handleNewUser","req","res","user","pwd","email","body","status","json","errors","isEmpty","array","duplicate","findOne","username","exec","sendStatus","hashedPwd","hash","result","create","console","log","err","message","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\controllers\\","sources":["registerController.js"],"sourcesContent":["const User = require('../model/User');\r\nconst bcrypt = require('bcrypt');\r\nconst {validationResult} = require('express-validator');\r\n\r\nconst handleNewUser = async (req, res) => {\r\n    const { user, pwd, email } = req.body;\r\n    if (!user || !pwd) return res.status(400).json({ 'message': 'Username and password are required.' });\r\n\r\n\r\n    const errors = validationResult(req);\r\n    if (!errors.isEmpty()) {\r\n        return res.status(200).json({ errors: errors.array() });\r\n    }\r\n\r\n    // check for duplicate usernames in the db\r\n    const duplicate = await User.findOne({ username: user}).exec();\r\n    if (duplicate) return res.sendStatus(409); //Conflict \r\n\r\n    try {\r\n        //encrypt the password\r\n        const hashedPwd = await bcrypt.hash(pwd, 10);\r\n        //create and store the new user\r\n        const result = await User.create( { \r\n            \"username\": user, \r\n            \"password\": hashedPwd,\r\n            \"email\": email\r\n        });\r\n\r\n        console.log(result);\r\n        \r\n        res.status(201).json({ 'success': `New user ${user} created!` });\r\n    } catch (err) {\r\n        res.status(500).json({ 'message': err.message });\r\n    }\r\n}\r\n\r\nmodule.exports = { handleNewUser };"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,eAAe,CAAC;AACrC,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAM;EAACE;AAAgB,CAAC,GAAGF,OAAO,CAAC,mBAAmB,CAAC;AAEvD,MAAMG,aAAa,GAAG,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACtC,MAAM;IAAEC,IAAI;IAAEC,GAAG;IAAEC;EAAM,CAAC,GAAGJ,GAAG,CAACK,IAAI;EACrC,IAAI,CAACH,IAAI,IAAI,CAACC,GAAG,EAAE,OAAOF,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAE,SAAS,EAAE;EAAsC,CAAC,CAAC;EAGpG,MAAMC,MAAM,GAAGV,gBAAgB,CAACE,GAAG,CAAC;EACpC,IAAI,CAACQ,MAAM,CAACC,OAAO,EAAE,EAAE;IACnB,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAEA,MAAM,CAACE,KAAK;IAAG,CAAC,CAAC;EAC3D;;EAEA;EACA,MAAMC,SAAS,GAAG,MAAMhB,IAAI,CAACiB,OAAO,CAAC;IAAEC,QAAQ,EAAEX;EAAI,CAAC,CAAC,CAACY,IAAI,EAAE;EAC9D,IAAIH,SAAS,EAAE,OAAOV,GAAG,CAACc,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;;EAE3C,IAAI;IACA;IACA,MAAMC,SAAS,GAAG,MAAMnB,MAAM,CAACoB,IAAI,CAACd,GAAG,EAAE,EAAE,CAAC;IAC5C;IACA,MAAMe,MAAM,GAAG,MAAMvB,IAAI,CAACwB,MAAM,CAAE;MAC9B,UAAU,EAAEjB,IAAI;MAChB,UAAU,EAAEc,SAAS;MACrB,OAAO,EAAEZ;IACb,CAAC,CAAC;IAEFgB,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;IAEnBjB,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAE,SAAS,EAAG,YAAWL,IAAK;IAAW,CAAC,CAAC;EACpE,CAAC,CAAC,OAAOoB,GAAG,EAAE;IACVrB,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAE,SAAS,EAAEe,GAAG,CAACC;IAAQ,CAAC,CAAC;EACpD;AACJ,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAG;EAAE1B;AAAc,CAAC"}},"mtime":1668807674729},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst authController = require('../controllers/authController');\nrouter.post('/', authController.handleLogin);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDb250cm9sbGVyIiwicG9zdCIsImhhbmRsZUxvZ2luIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx3aWxsaVxcRG9jdW1lbnRzXFxHaXRIdWJcXFByb3llY3RvUmVhY3RVbml2ZXJzaWRhZFxcU2VydmVyXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IGF1dGhDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvYXV0aENvbnRyb2xsZXInKTtcclxuXHJcbnJvdXRlci5wb3N0KCcvJywgYXV0aENvbnRyb2xsZXIuaGFuZGxlTG9naW4pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sRUFBRTtBQUMvQixNQUFNQyxjQUFjLEdBQUdILE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztBQUUvREMsTUFBTSxDQUFDRyxJQUFJLENBQUMsR0FBRyxFQUFFRCxjQUFjLENBQUNFLFdBQVcsQ0FBQztBQUU1Q0MsTUFBTSxDQUFDQyxPQUFPLEdBQUdOLE1BQU0ifQ==","map":{"version":3,"names":["express","require","router","Router","authController","post","handleLogin","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\routes\\","sources":["auth.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst authController = require('../controllers/authController');\r\n\r\nrouter.post('/', authController.handleLogin);\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC/B,MAAMC,cAAc,GAAGH,OAAO,CAAC,+BAA+B,CAAC;AAE/DC,MAAM,CAACG,IAAI,CAAC,GAAG,EAAED,cAAc,CAACE,WAAW,CAAC;AAE5CC,MAAM,CAACC,OAAO,GAAGN,MAAM"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\authController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const User = require('../model/User');\nconst bcrypt = require('bcrypt');\nconst jwt = require('jsonwebtoken');\nconst handleLogin = async (req, res) => {\n  const {\n    user,\n    pwd\n  } = req.body;\n  if (!user || !pwd) return res.status(400).json({\n    'message': 'Username and password are required.'\n  });\n  const foundUser = await User.findOne({\n    username: user\n  }).exec();\n  if (!foundUser) return res.sendStatus(401); //Unauthorized \n  // evaluate password \n  const match = await bcrypt.compare(pwd, foundUser.password);\n  if (match) {\n    const roles = Object.values(foundUser.roles);\n    // create JWTs\n    const accessToken = jwt.sign({\n      \"UserInfo\": {\n        \"username\": foundUser.username,\n        \"roles\": roles\n      }\n    }, process.env.ACCESS_TOKEN_SECRET, {\n      expiresIn: '3000s'\n    });\n    const refreshToken = jwt.sign({\n      \"username\": foundUser.username\n    }, process.env.REFRESH_TOKEN_SECRET, {\n      expiresIn: '1d'\n    });\n\n    // SAVING REFRESHTOKEN WITH CURRENT USER\n    foundUser.refreshToken = refreshToken;\n    const result = await foundUser.save();\n    console.log(result);\n\n    // res.cookie('jwt', refreshToken, {httpOnly: true, sameSite: 'None', maxAge: 24 * 60 * 60 * 1000}); // COMMENT OUT SECURE: true if use thunder client\n    res.cookie('jwt', refreshToken, {\n      httpOnly: false,\n      secure: true,\n      sameSite: 'None',\n      maxAge: 24 * 60 * 60 * 1000\n    });\n    res.json({\n      roles,\n      accessToken\n    });\n    console.log(\"ok\");\n  } else {\n    res.sendStatus(401);\n  }\n};\nmodule.exports = {\n  handleLogin\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImJjcnlwdCIsImp3dCIsImhhbmRsZUxvZ2luIiwicmVxIiwicmVzIiwidXNlciIsInB3ZCIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwiZm91bmRVc2VyIiwiZmluZE9uZSIsInVzZXJuYW1lIiwiZXhlYyIsInNlbmRTdGF0dXMiLCJtYXRjaCIsImNvbXBhcmUiLCJwYXNzd29yZCIsInJvbGVzIiwiT2JqZWN0IiwidmFsdWVzIiwiYWNjZXNzVG9rZW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkFDQ0VTU19UT0tFTl9TRUNSRVQiLCJleHBpcmVzSW4iLCJyZWZyZXNoVG9rZW4iLCJSRUZSRVNIX1RPS0VOX1NFQ1JFVCIsInJlc3VsdCIsInNhdmUiLCJjb25zb2xlIiwibG9nIiwiY29va2llIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJzYW1lU2l0ZSIsIm1heEFnZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJhdXRoQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWwvVXNlcicpO1xyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcclxuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcblxyXG5cclxuY29uc3QgaGFuZGxlTG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHsgdXNlciwgcHdkIH0gPSByZXEuYm9keTtcclxuICAgIGlmICghdXNlciB8fCAhcHdkKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyAnbWVzc2FnZSc6ICdVc2VybmFtZSBhbmQgcGFzc3dvcmQgYXJlIHJlcXVpcmVkLicgfSk7XHJcblxyXG4gICAgY29uc3QgZm91bmRVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWU6IHVzZXJ9KS5leGVjKCk7XHJcbiAgICBpZiAoIWZvdW5kVXNlcikgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7IC8vVW5hdXRob3JpemVkIFxyXG4gICAgLy8gZXZhbHVhdGUgcGFzc3dvcmQgXHJcbiAgICBjb25zdCBtYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHB3ZCwgZm91bmRVc2VyLnBhc3N3b3JkKTtcclxuICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgIGNvbnN0IHJvbGVzID0gT2JqZWN0LnZhbHVlcyhmb3VuZFVzZXIucm9sZXMpO1xyXG4gICAgICAgIC8vIGNyZWF0ZSBKV1RzXHJcbiAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSBqd3Quc2lnbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJVc2VySW5mb1wiOntcclxuICAgICAgICAgICAgICAgIFwidXNlcm5hbWVcIjogZm91bmRVc2VyLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgXCJyb2xlc1wiOiByb2xlc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5BQ0NFU1NfVE9LRU5fU0VDUkVULFxyXG4gICAgICAgICAgICB7ZXhwaXJlc0luOiAnMzAwMHMnfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gand0LnNpZ24oXHJcbiAgICAgICAgICAgIHtcInVzZXJuYW1lXCI6IGZvdW5kVXNlci51c2VybmFtZX0sXHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52LlJFRlJFU0hfVE9LRU5fU0VDUkVULFxyXG4gICAgICAgICAgICB7ZXhwaXJlc0luOiAnMWQnfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFNBVklORyBSRUZSRVNIVE9LRU4gV0lUSCBDVVJSRU5UIFVTRVJcclxuICAgICAgICBmb3VuZFVzZXIucmVmcmVzaFRva2VuID0gcmVmcmVzaFRva2VuO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZvdW5kVXNlci5zYXZlKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyByZXMuY29va2llKCdqd3QnLCByZWZyZXNoVG9rZW4sIHtodHRwT25seTogdHJ1ZSwgc2FtZVNpdGU6ICdOb25lJywgbWF4QWdlOiAyNCAqIDYwICogNjAgKiAxMDAwfSk7IC8vIENPTU1FTlQgT1VUIFNFQ1VSRTogdHJ1ZSBpZiB1c2UgdGh1bmRlciBjbGllbnRcclxuICAgICAgICByZXMuY29va2llKCdqd3QnLCByZWZyZXNoVG9rZW4sIHsgaHR0cE9ubHk6IGZhbHNlLCBzZWN1cmU6IHRydWUsIHNhbWVTaXRlOiAnTm9uZScsIG1heEFnZTogMjQgKiA2MCAqIDYwICogMTAwMCB9KTtcclxuICAgICAgICByZXMuanNvbih7IHJvbGVzLGFjY2Vzc1Rva2VuIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib2tcIilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnNlbmRTdGF0dXMoNDAxKTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IGhhbmRsZUxvZ2luIH07Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDckMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLE1BQU1FLEdBQUcsR0FBR0YsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUduQyxNQUFNRyxXQUFXLEdBQUcsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDcEMsTUFBTTtJQUFFQyxJQUFJO0lBQUVDO0VBQUksQ0FBQyxHQUFHSCxHQUFHLENBQUNJLElBQUk7RUFDOUIsSUFBSSxDQUFDRixJQUFJLElBQUksQ0FBQ0MsR0FBRyxFQUFFLE9BQU9GLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFBRSxTQUFTLEVBQUU7RUFBc0MsQ0FBQyxDQUFDO0VBRXBHLE1BQU1DLFNBQVMsR0FBRyxNQUFNWixJQUFJLENBQUNhLE9BQU8sQ0FBQztJQUFFQyxRQUFRLEVBQUVQO0VBQUksQ0FBQyxDQUFDLENBQUNRLElBQUksRUFBRTtFQUM5RCxJQUFJLENBQUNILFNBQVMsRUFBRSxPQUFPTixHQUFHLENBQUNVLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0VBQzVDO0VBQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1mLE1BQU0sQ0FBQ2dCLE9BQU8sQ0FBQ1YsR0FBRyxFQUFFSSxTQUFTLENBQUNPLFFBQVEsQ0FBQztFQUMzRCxJQUFJRixLQUFLLEVBQUU7SUFDUCxNQUFNRyxLQUFLLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDVixTQUFTLENBQUNRLEtBQUssQ0FBQztJQUM1QztJQUNBLE1BQU1HLFdBQVcsR0FBR3BCLEdBQUcsQ0FBQ3FCLElBQUksQ0FDeEI7TUFDSSxVQUFVLEVBQUM7UUFDWCxVQUFVLEVBQUVaLFNBQVMsQ0FBQ0UsUUFBUTtRQUM5QixPQUFPLEVBQUVNO01BQ1Q7SUFDSixDQUFDLEVBQ0RLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxtQkFBbUIsRUFDL0I7TUFBQ0MsU0FBUyxFQUFFO0lBQU8sQ0FBQyxDQUN2QjtJQUNELE1BQU1DLFlBQVksR0FBRzFCLEdBQUcsQ0FBQ3FCLElBQUksQ0FDekI7TUFBQyxVQUFVLEVBQUVaLFNBQVMsQ0FBQ0U7SUFBUSxDQUFDLEVBQ2hDVyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksb0JBQW9CLEVBQ2hDO01BQUNGLFNBQVMsRUFBRTtJQUFJLENBQUMsQ0FDcEI7O0lBRUQ7SUFDQWhCLFNBQVMsQ0FBQ2lCLFlBQVksR0FBR0EsWUFBWTtJQUNyQyxNQUFNRSxNQUFNLEdBQUcsTUFBTW5CLFNBQVMsQ0FBQ29CLElBQUksRUFBRTtJQUNyQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNILE1BQU0sQ0FBQzs7SUFFbkI7SUFDQXpCLEdBQUcsQ0FBQzZCLE1BQU0sQ0FBQyxLQUFLLEVBQUVOLFlBQVksRUFBRTtNQUFFTyxRQUFRLEVBQUUsS0FBSztNQUFFQyxNQUFNLEVBQUUsSUFBSTtNQUFFQyxRQUFRLEVBQUUsTUFBTTtNQUFFQyxNQUFNLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7SUFBSyxDQUFDLENBQUM7SUFDakhqQyxHQUFHLENBQUNLLElBQUksQ0FBQztNQUFFUyxLQUFLO01BQUNHO0lBQVksQ0FBQyxDQUFDO0lBQy9CVSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxJQUFJLENBQUM7RUFDckIsQ0FBQyxNQUFNO0lBQ0g1QixHQUFHLENBQUNVLFVBQVUsQ0FBQyxHQUFHLENBQUM7RUFDdkI7QUFDSixDQUFDO0FBRUR3QixNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFFckM7QUFBWSxDQUFDIn0=","map":{"version":3,"names":["User","require","bcrypt","jwt","handleLogin","req","res","user","pwd","body","status","json","foundUser","findOne","username","exec","sendStatus","match","compare","password","roles","Object","values","accessToken","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","refreshToken","REFRESH_TOKEN_SECRET","result","save","console","log","cookie","httpOnly","secure","sameSite","maxAge","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\controllers\\","sources":["authController.js"],"sourcesContent":["const User = require('../model/User');\r\nconst bcrypt = require('bcrypt');\r\nconst jwt = require('jsonwebtoken');\r\n\r\n\r\nconst handleLogin = async (req, res) => {\r\n    const { user, pwd } = req.body;\r\n    if (!user || !pwd) return res.status(400).json({ 'message': 'Username and password are required.' });\r\n\r\n    const foundUser = await User.findOne({ username: user}).exec();\r\n    if (!foundUser) return res.sendStatus(401); //Unauthorized \r\n    // evaluate password \r\n    const match = await bcrypt.compare(pwd, foundUser.password);\r\n    if (match) {\r\n        const roles = Object.values(foundUser.roles);\r\n        // create JWTs\r\n        const accessToken = jwt.sign(\r\n            {\r\n                \"UserInfo\":{\r\n                \"username\": foundUser.username,\r\n                \"roles\": roles\r\n                }\r\n            },\r\n            process.env.ACCESS_TOKEN_SECRET,\r\n            {expiresIn: '3000s'}\r\n        );\r\n        const refreshToken = jwt.sign(\r\n            {\"username\": foundUser.username},\r\n            process.env.REFRESH_TOKEN_SECRET,\r\n            {expiresIn: '1d'}\r\n        );\r\n\r\n        // SAVING REFRESHTOKEN WITH CURRENT USER\r\n        foundUser.refreshToken = refreshToken;\r\n        const result = await foundUser.save();\r\n        console.log(result);\r\n        \r\n        // res.cookie('jwt', refreshToken, {httpOnly: true, sameSite: 'None', maxAge: 24 * 60 * 60 * 1000}); // COMMENT OUT SECURE: true if use thunder client\r\n        res.cookie('jwt', refreshToken, { httpOnly: false, secure: true, sameSite: 'None', maxAge: 24 * 60 * 60 * 1000 });\r\n        res.json({ roles,accessToken });\r\n        console.log(\"ok\")\r\n    } else {\r\n        res.sendStatus(401);\r\n    }\r\n}\r\n\r\nmodule.exports = { handleLogin };"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,eAAe,CAAC;AACrC,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAc,CAAC;AAGnC,MAAMG,WAAW,GAAG,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACpC,MAAM;IAAEC,IAAI;IAAEC;EAAI,CAAC,GAAGH,GAAG,CAACI,IAAI;EAC9B,IAAI,CAACF,IAAI,IAAI,CAACC,GAAG,EAAE,OAAOF,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAE,SAAS,EAAE;EAAsC,CAAC,CAAC;EAEpG,MAAMC,SAAS,GAAG,MAAMZ,IAAI,CAACa,OAAO,CAAC;IAAEC,QAAQ,EAAEP;EAAI,CAAC,CAAC,CAACQ,IAAI,EAAE;EAC9D,IAAI,CAACH,SAAS,EAAE,OAAON,GAAG,CAACU,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5C;EACA,MAAMC,KAAK,GAAG,MAAMf,MAAM,CAACgB,OAAO,CAACV,GAAG,EAAEI,SAAS,CAACO,QAAQ,CAAC;EAC3D,IAAIF,KAAK,EAAE;IACP,MAAMG,KAAK,GAAGC,MAAM,CAACC,MAAM,CAACV,SAAS,CAACQ,KAAK,CAAC;IAC5C;IACA,MAAMG,WAAW,GAAGpB,GAAG,CAACqB,IAAI,CACxB;MACI,UAAU,EAAC;QACX,UAAU,EAAEZ,SAAS,CAACE,QAAQ;QAC9B,OAAO,EAAEM;MACT;IACJ,CAAC,EACDK,OAAO,CAACC,GAAG,CAACC,mBAAmB,EAC/B;MAACC,SAAS,EAAE;IAAO,CAAC,CACvB;IACD,MAAMC,YAAY,GAAG1B,GAAG,CAACqB,IAAI,CACzB;MAAC,UAAU,EAAEZ,SAAS,CAACE;IAAQ,CAAC,EAChCW,OAAO,CAACC,GAAG,CAACI,oBAAoB,EAChC;MAACF,SAAS,EAAE;IAAI,CAAC,CACpB;;IAED;IACAhB,SAAS,CAACiB,YAAY,GAAGA,YAAY;IACrC,MAAME,MAAM,GAAG,MAAMnB,SAAS,CAACoB,IAAI,EAAE;IACrCC,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;;IAEnB;IACAzB,GAAG,CAAC6B,MAAM,CAAC,KAAK,EAAEN,YAAY,EAAE;MAAEO,QAAQ,EAAE,KAAK;MAAEC,MAAM,EAAE,IAAI;MAAEC,QAAQ,EAAE,MAAM;MAAEC,MAAM,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;IAAK,CAAC,CAAC;IACjHjC,GAAG,CAACK,IAAI,CAAC;MAAES,KAAK;MAACG;IAAY,CAAC,CAAC;IAC/BU,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;EACrB,CAAC,MAAM;IACH5B,GAAG,CAACU,UAAU,CAAC,GAAG,CAAC;EACvB;AACJ,CAAC;AAEDwB,MAAM,CAACC,OAAO,GAAG;EAAErC;AAAY,CAAC"}},"mtime":1668807917623},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\api\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\api\\\\employees.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst employeesController = require('../../controllers/employeesController');\nconst ROLES_LIST = require('../../config/roles_list');\nconst verifyRoles = require('../../middleware/verifyRoles');\nrouter.route('/').get(employeesController.getAllEmployees).post(verifyRoles(ROLES_LIST.Admin, ROLES_LIST.Editor), employeesController.createNewEmployee).put(verifyRoles(ROLES_LIST.Admin, ROLES_LIST.Editor), employeesController.updateEmployee).delete(verifyRoles(ROLES_LIST.Admin), employeesController.deleteEmployee);\nrouter.route('/:id').get(employeesController.getEmployee);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImVtcGxveWVlc0NvbnRyb2xsZXIiLCJST0xFU19MSVNUIiwidmVyaWZ5Um9sZXMiLCJyb3V0ZSIsImdldCIsImdldEFsbEVtcGxveWVlcyIsInBvc3QiLCJBZG1pbiIsIkVkaXRvciIsImNyZWF0ZU5ld0VtcGxveWVlIiwicHV0IiwidXBkYXRlRW1wbG95ZWUiLCJkZWxldGUiLCJkZWxldGVFbXBsb3llZSIsImdldEVtcGxveWVlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx3aWxsaVxcRG9jdW1lbnRzXFxHaXRIdWJcXFByb3llY3RvUmVhY3RVbml2ZXJzaWRhZFxcU2VydmVyXFxzcmNcXHJvdXRlc1xcYXBpXFwiLCJzb3VyY2VzIjpbImVtcGxveWVlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBlbXBsb3llZXNDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vLi4vY29udHJvbGxlcnMvZW1wbG95ZWVzQ29udHJvbGxlcicpO1xyXG5jb25zdCBST0xFU19MSVNUID0gcmVxdWlyZSgnLi4vLi4vY29uZmlnL3JvbGVzX2xpc3QnKTtcclxuY29uc3QgdmVyaWZ5Um9sZXMgPSByZXF1aXJlKCcuLi8uLi9taWRkbGV3YXJlL3ZlcmlmeVJvbGVzJyk7XHJcblxyXG5cclxucm91dGVyLnJvdXRlKCcvJylcclxuICAgIC5nZXQoZW1wbG95ZWVzQ29udHJvbGxlci5nZXRBbGxFbXBsb3llZXMpXHJcbiAgICAucG9zdCh2ZXJpZnlSb2xlcyhST0xFU19MSVNULkFkbWluLCBST0xFU19MSVNULkVkaXRvciksIGVtcGxveWVlc0NvbnRyb2xsZXIuY3JlYXRlTmV3RW1wbG95ZWUpXHJcbiAgICAucHV0KHZlcmlmeVJvbGVzKFJPTEVTX0xJU1QuQWRtaW4sIFJPTEVTX0xJU1QuRWRpdG9yKSxlbXBsb3llZXNDb250cm9sbGVyLnVwZGF0ZUVtcGxveWVlKVxyXG4gICAgLmRlbGV0ZSh2ZXJpZnlSb2xlcyhST0xFU19MSVNULkFkbWluKSxlbXBsb3llZXNDb250cm9sbGVyLmRlbGV0ZUVtcGxveWVlKTtcclxuXHJcbnJvdXRlci5yb3V0ZSgnLzppZCcpXHJcbiAgICAuZ2V0KGVtcGxveWVlc0NvbnRyb2xsZXIuZ2V0RW1wbG95ZWUpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sRUFBRTtBQUMvQixNQUFNQyxtQkFBbUIsR0FBR0gsT0FBTyxDQUFDLHVDQUF1QyxDQUFDO0FBQzVFLE1BQU1JLFVBQVUsR0FBR0osT0FBTyxDQUFDLHlCQUF5QixDQUFDO0FBQ3JELE1BQU1LLFdBQVcsR0FBR0wsT0FBTyxDQUFDLDhCQUE4QixDQUFDO0FBRzNEQyxNQUFNLENBQUNLLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDWkMsR0FBRyxDQUFDSixtQkFBbUIsQ0FBQ0ssZUFBZSxDQUFDLENBQ3hDQyxJQUFJLENBQUNKLFdBQVcsQ0FBQ0QsVUFBVSxDQUFDTSxLQUFLLEVBQUVOLFVBQVUsQ0FBQ08sTUFBTSxDQUFDLEVBQUVSLG1CQUFtQixDQUFDUyxpQkFBaUIsQ0FBQyxDQUM3RkMsR0FBRyxDQUFDUixXQUFXLENBQUNELFVBQVUsQ0FBQ00sS0FBSyxFQUFFTixVQUFVLENBQUNPLE1BQU0sQ0FBQyxFQUFDUixtQkFBbUIsQ0FBQ1csY0FBYyxDQUFDLENBQ3hGQyxNQUFNLENBQUNWLFdBQVcsQ0FBQ0QsVUFBVSxDQUFDTSxLQUFLLENBQUMsRUFBQ1AsbUJBQW1CLENBQUNhLGNBQWMsQ0FBQztBQUU3RWYsTUFBTSxDQUFDSyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQ2ZDLEdBQUcsQ0FBQ0osbUJBQW1CLENBQUNjLFdBQVcsQ0FBQztBQUV6Q0MsTUFBTSxDQUFDQyxPQUFPLEdBQUdsQixNQUFNIn0=","map":{"version":3,"names":["express","require","router","Router","employeesController","ROLES_LIST","verifyRoles","route","get","getAllEmployees","post","Admin","Editor","createNewEmployee","put","updateEmployee","delete","deleteEmployee","getEmployee","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\routes\\api\\","sources":["employees.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst employeesController = require('../../controllers/employeesController');\r\nconst ROLES_LIST = require('../../config/roles_list');\r\nconst verifyRoles = require('../../middleware/verifyRoles');\r\n\r\n\r\nrouter.route('/')\r\n    .get(employeesController.getAllEmployees)\r\n    .post(verifyRoles(ROLES_LIST.Admin, ROLES_LIST.Editor), employeesController.createNewEmployee)\r\n    .put(verifyRoles(ROLES_LIST.Admin, ROLES_LIST.Editor),employeesController.updateEmployee)\r\n    .delete(verifyRoles(ROLES_LIST.Admin),employeesController.deleteEmployee);\r\n\r\nrouter.route('/:id')\r\n    .get(employeesController.getEmployee);\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC/B,MAAMC,mBAAmB,GAAGH,OAAO,CAAC,uCAAuC,CAAC;AAC5E,MAAMI,UAAU,GAAGJ,OAAO,CAAC,yBAAyB,CAAC;AACrD,MAAMK,WAAW,GAAGL,OAAO,CAAC,8BAA8B,CAAC;AAG3DC,MAAM,CAACK,KAAK,CAAC,GAAG,CAAC,CACZC,GAAG,CAACJ,mBAAmB,CAACK,eAAe,CAAC,CACxCC,IAAI,CAACJ,WAAW,CAACD,UAAU,CAACM,KAAK,EAAEN,UAAU,CAACO,MAAM,CAAC,EAAER,mBAAmB,CAACS,iBAAiB,CAAC,CAC7FC,GAAG,CAACR,WAAW,CAACD,UAAU,CAACM,KAAK,EAAEN,UAAU,CAACO,MAAM,CAAC,EAACR,mBAAmB,CAACW,cAAc,CAAC,CACxFC,MAAM,CAACV,WAAW,CAACD,UAAU,CAACM,KAAK,CAAC,EAACP,mBAAmB,CAACa,cAAc,CAAC;AAE7Ef,MAAM,CAACK,KAAK,CAAC,MAAM,CAAC,CACfC,GAAG,CAACJ,mBAAmB,CAACc,WAAW,CAAC;AAEzCC,MAAM,CAACC,OAAO,GAAGlB,MAAM"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\employeesController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const Employee = require('../model/Employee');\nconst getAllEmployees = async (req, res) => {\n  const employees = await Employee.find();\n  if (!employees) return res.status(204).json({\n    'message': 'No employees found.'\n  });\n  res.json(employees);\n};\nconst createNewEmployee = async (req, res) => {\n  if (!req?.body?.firstname || !req?.body?.lastname) {\n    return res.status(400).json({\n      'message': 'First and last names are required'\n    });\n  }\n  try {\n    const result = await Employee.create({\n      firstname: req.body.firstname,\n      lastname: req.body.lastname\n    });\n    res.status(201).json(result);\n  } catch (err) {\n    console.error(err);\n  }\n};\nconst updateEmployee = async (req, res) => {\n  if (!req?.body?.id) {\n    return res.status(400).json({\n      'message': 'ID parameter is required.'\n    });\n  }\n  const employee = await Employee.findOne({\n    _id: req.body.id\n  }).exec();\n  if (!employee) {\n    return res.status(204).json({\n      \"message\": `No employee matches ID ${req.body.id}.`\n    });\n  }\n  if (req.body?.firstname) employee.firstname = req.body.firstname;\n  if (req.body?.lastname) employee.lastname = req.body.lastname;\n  const result = await employee.save();\n  res.json(result);\n};\nconst deleteEmployee = async (req, res) => {\n  if (!req?.body?.id) return res.status(400).json({\n    'message': 'Employee ID required.'\n  });\n  const employee = await Employee.findOne({\n    _id: req.body.id\n  }).exec();\n  if (!employee) {\n    return res.status(204).json({\n      \"message\": `No employee matches ID ${req.body.id}.`\n    });\n  }\n  const result = await employee.deleteOne(); //{ _id: req.body.id }\n  res.json(result);\n};\nconst getEmployee = async (req, res) => {\n  if (!req?.params?.id) return res.status(400).json({\n    'message': 'Employee ID required.'\n  });\n  const employee = await Employee.findOne({\n    _id: req.params.id\n  }).exec();\n  if (!employee) {\n    return res.status(204).json({\n      \"message\": `No employee matches ID ${req.params.id}.`\n    });\n  }\n  res.json(employee);\n};\nmodule.exports = {\n  getAllEmployees,\n  createNewEmployee,\n  updateEmployee,\n  deleteEmployee,\n  getEmployee\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbXBsb3llZSIsInJlcXVpcmUiLCJnZXRBbGxFbXBsb3llZXMiLCJyZXEiLCJyZXMiLCJlbXBsb3llZXMiLCJmaW5kIiwic3RhdHVzIiwianNvbiIsImNyZWF0ZU5ld0VtcGxveWVlIiwiYm9keSIsImZpcnN0bmFtZSIsImxhc3RuYW1lIiwicmVzdWx0IiwiY3JlYXRlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwidXBkYXRlRW1wbG95ZWUiLCJpZCIsImVtcGxveWVlIiwiZmluZE9uZSIsIl9pZCIsImV4ZWMiLCJzYXZlIiwiZGVsZXRlRW1wbG95ZWUiLCJkZWxldGVPbmUiLCJnZXRFbXBsb3llZSIsInBhcmFtcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJlbXBsb3llZXNDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEVtcGxveWVlID0gcmVxdWlyZSgnLi4vbW9kZWwvRW1wbG95ZWUnKTtcclxuXHJcbmNvbnN0IGdldEFsbEVtcGxveWVlcyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgZW1wbG95ZWVzID0gYXdhaXQgRW1wbG95ZWUuZmluZCgpO1xyXG4gICAgaWYgKCFlbXBsb3llZXMpIHJldHVybiByZXMuc3RhdHVzKDIwNCkuanNvbih7ICdtZXNzYWdlJzogJ05vIGVtcGxveWVlcyBmb3VuZC4nIH0pO1xyXG4gICAgcmVzLmpzb24oZW1wbG95ZWVzKTtcclxufVxyXG5cclxuY29uc3QgY3JlYXRlTmV3RW1wbG95ZWUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGlmICghcmVxPy5ib2R5Py5maXJzdG5hbWUgfHwgIXJlcT8uYm9keT8ubGFzdG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyAnbWVzc2FnZSc6ICdGaXJzdCBhbmQgbGFzdCBuYW1lcyBhcmUgcmVxdWlyZWQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgRW1wbG95ZWUuY3JlYXRlKHtcclxuICAgICAgICAgICAgZmlyc3RuYW1lOiByZXEuYm9keS5maXJzdG5hbWUsXHJcbiAgICAgICAgICAgIGxhc3RuYW1lOiByZXEuYm9keS5sYXN0bmFtZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbihyZXN1bHQpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB1cGRhdGVFbXBsb3llZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgaWYgKCFyZXE/LmJvZHk/LmlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgJ21lc3NhZ2UnOiAnSUQgcGFyYW1ldGVyIGlzIHJlcXVpcmVkLicgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZW1wbG95ZWUgPSBhd2FpdCBFbXBsb3llZS5maW5kT25lKHsgX2lkOiByZXEuYm9keS5pZCB9KS5leGVjKCk7XHJcbiAgICBpZiAoIWVtcGxveWVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KS5qc29uKHsgXCJtZXNzYWdlXCI6IGBObyBlbXBsb3llZSBtYXRjaGVzIElEICR7cmVxLmJvZHkuaWR9LmAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAocmVxLmJvZHk/LmZpcnN0bmFtZSkgZW1wbG95ZWUuZmlyc3RuYW1lID0gcmVxLmJvZHkuZmlyc3RuYW1lO1xyXG4gICAgaWYgKHJlcS5ib2R5Py5sYXN0bmFtZSkgZW1wbG95ZWUubGFzdG5hbWUgPSByZXEuYm9keS5sYXN0bmFtZTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGVtcGxveWVlLnNhdmUoKTtcclxuICAgIHJlcy5qc29uKHJlc3VsdCk7XHJcbn1cclxuXHJcbmNvbnN0IGRlbGV0ZUVtcGxveWVlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBpZiAoIXJlcT8uYm9keT8uaWQpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7ICdtZXNzYWdlJzogJ0VtcGxveWVlIElEIHJlcXVpcmVkLicgfSk7XHJcblxyXG4gICAgY29uc3QgZW1wbG95ZWUgPSBhd2FpdCBFbXBsb3llZS5maW5kT25lKHsgX2lkOiByZXEuYm9keS5pZCB9KS5leGVjKCk7XHJcbiAgICBpZiAoIWVtcGxveWVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KS5qc29uKHsgXCJtZXNzYWdlXCI6IGBObyBlbXBsb3llZSBtYXRjaGVzIElEICR7cmVxLmJvZHkuaWR9LmAgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbXBsb3llZS5kZWxldGVPbmUoKTsgLy97IF9pZDogcmVxLmJvZHkuaWQgfVxyXG4gICAgcmVzLmpzb24ocmVzdWx0KTtcclxufVxyXG5cclxuY29uc3QgZ2V0RW1wbG95ZWUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGlmICghcmVxPy5wYXJhbXM/LmlkKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyAnbWVzc2FnZSc6ICdFbXBsb3llZSBJRCByZXF1aXJlZC4nIH0pO1xyXG5cclxuICAgIGNvbnN0IGVtcGxveWVlID0gYXdhaXQgRW1wbG95ZWUuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KS5leGVjKCk7XHJcbiAgICBpZiAoIWVtcGxveWVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KS5qc29uKHsgXCJtZXNzYWdlXCI6IGBObyBlbXBsb3llZSBtYXRjaGVzIElEICR7cmVxLnBhcmFtcy5pZH0uYCB9KTtcclxuICAgIH1cclxuICAgIHJlcy5qc29uKGVtcGxveWVlKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZXRBbGxFbXBsb3llZXMsXHJcbiAgICBjcmVhdGVOZXdFbXBsb3llZSxcclxuICAgIHVwZGF0ZUVtcGxveWVlLFxyXG4gICAgZGVsZXRlRW1wbG95ZWUsXHJcbiAgICBnZXRFbXBsb3llZVxyXG59Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUU3QyxNQUFNQyxlQUFlLEdBQUcsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDeEMsTUFBTUMsU0FBUyxHQUFHLE1BQU1MLFFBQVEsQ0FBQ00sSUFBSSxFQUFFO0VBQ3ZDLElBQUksQ0FBQ0QsU0FBUyxFQUFFLE9BQU9ELEdBQUcsQ0FBQ0csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFBRSxTQUFTLEVBQUU7RUFBc0IsQ0FBQyxDQUFDO0VBQ2pGSixHQUFHLENBQUNJLElBQUksQ0FBQ0gsU0FBUyxDQUFDO0FBQ3ZCLENBQUM7QUFFRCxNQUFNSSxpQkFBaUIsR0FBRyxPQUFPTixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxQyxJQUFJLENBQUNELEdBQUcsRUFBRU8sSUFBSSxFQUFFQyxTQUFTLElBQUksQ0FBQ1IsR0FBRyxFQUFFTyxJQUFJLEVBQUVFLFFBQVEsRUFBRTtJQUMvQyxPQUFPUixHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUUsU0FBUyxFQUFFO0lBQW9DLENBQUMsQ0FBQztFQUNuRjtFQUVBLElBQUk7SUFDQSxNQUFNSyxNQUFNLEdBQUcsTUFBTWIsUUFBUSxDQUFDYyxNQUFNLENBQUM7TUFDakNILFNBQVMsRUFBRVIsR0FBRyxDQUFDTyxJQUFJLENBQUNDLFNBQVM7TUFDN0JDLFFBQVEsRUFBRVQsR0FBRyxDQUFDTyxJQUFJLENBQUNFO0lBQ3ZCLENBQUMsQ0FBQztJQUVGUixHQUFHLENB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","map":{"version":3,"names":["Employee","require","getAllEmployees","req","res","employees","find","status","json","createNewEmployee","body","firstname","lastname","result","create","err","console","error","updateEmployee","id","employee","findOne","_id","exec","save","deleteEmployee","deleteOne","getEmployee","params","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\controllers\\","sources":["employeesController.js"],"sourcesContent":["const Employee = require('../model/Employee');\r\n\r\nconst getAllEmployees = async (req, res) => {\r\n    const employees = await Employee.find();\r\n    if (!employees) return res.status(204).json({ 'message': 'No employees found.' });\r\n    res.json(employees);\r\n}\r\n\r\nconst createNewEmployee = async (req, res) => {\r\n    if (!req?.body?.firstname || !req?.body?.lastname) {\r\n        return res.status(400).json({ 'message': 'First and last names are required' });\r\n    }\r\n\r\n    try {\r\n        const result = await Employee.create({\r\n            firstname: req.body.firstname,\r\n            lastname: req.body.lastname\r\n        });\r\n\r\n        res.status(201).json(result);\r\n    } catch (err) {\r\n        console.error(err);\r\n    }\r\n}\r\n\r\nconst updateEmployee = async (req, res) => {\r\n    if (!req?.body?.id) {\r\n        return res.status(400).json({ 'message': 'ID parameter is required.' });\r\n    }\r\n\r\n    const employee = await Employee.findOne({ _id: req.body.id }).exec();\r\n    if (!employee) {\r\n        return res.status(204).json({ \"message\": `No employee matches ID ${req.body.id}.` });\r\n    }\r\n    if (req.body?.firstname) employee.firstname = req.body.firstname;\r\n    if (req.body?.lastname) employee.lastname = req.body.lastname;\r\n    const result = await employee.save();\r\n    res.json(result);\r\n}\r\n\r\nconst deleteEmployee = async (req, res) => {\r\n    if (!req?.body?.id) return res.status(400).json({ 'message': 'Employee ID required.' });\r\n\r\n    const employee = await Employee.findOne({ _id: req.body.id }).exec();\r\n    if (!employee) {\r\n        return res.status(204).json({ \"message\": `No employee matches ID ${req.body.id}.` });\r\n    }\r\n    const result = await employee.deleteOne(); //{ _id: req.body.id }\r\n    res.json(result);\r\n}\r\n\r\nconst getEmployee = async (req, res) => {\r\n    if (!req?.params?.id) return res.status(400).json({ 'message': 'Employee ID required.' });\r\n\r\n    const employee = await Employee.findOne({ _id: req.params.id }).exec();\r\n    if (!employee) {\r\n        return res.status(204).json({ \"message\": `No employee matches ID ${req.params.id}.` });\r\n    }\r\n    res.json(employee);\r\n}\r\n\r\nmodule.exports = {\r\n    getAllEmployees,\r\n    createNewEmployee,\r\n    updateEmployee,\r\n    deleteEmployee,\r\n    getEmployee\r\n}"],"mappings":"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"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\verifyJWT.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const jwt = require('jsonwebtoken');\nconst verifyJWT = (req, res, next) => {\n  const authHeader = req.headers.authorization || req.headers.Authorization;\n  if (!authHeader?.startsWith('Bearer ')) return res.sendStatus(401);\n  const token = authHeader.split(' ')[1];\n  jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, decoded) => {\n    if (err) return res.sendStatus(403); // Invalid token\n    req.user = decoded.UserInfo.username;\n    req.roles = decoded.UserInfo.roles;\n    next();\n  });\n};\nmodule.exports = verifyJWT;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwidmVyaWZ5SldUIiwicmVxIiwicmVzIiwibmV4dCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsIkF1dGhvcml6YXRpb24iLCJzdGFydHNXaXRoIiwic2VuZFN0YXR1cyIsInRva2VuIiwic3BsaXQiLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiQUNDRVNTX1RPS0VOX1NFQ1JFVCIsImVyciIsImRlY29kZWQiLCJ1c2VyIiwiVXNlckluZm8iLCJ1c2VybmFtZSIsInJvbGVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx3aWxsaVxcRG9jdW1lbnRzXFxHaXRIdWJcXFByb3llY3RvUmVhY3RVbml2ZXJzaWRhZFxcU2VydmVyXFxzcmNcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXMiOlsidmVyaWZ5SldULmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpO1xyXG5cclxuXHJcblxyXG5jb25zdCB2ZXJpZnlKV1QgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uIHx8IHJlcS5oZWFkZXJzLkF1dGhvcml6YXRpb247XHJcbiAgICBpZiAoIWF1dGhIZWFkZXI/LnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XHJcbiAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3BsaXQoJyAnKVsxXTtcclxuICAgIGp3dC52ZXJpZnkoXHJcbiAgICAgICAgdG9rZW4sXHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuQUNDRVNTX1RPS0VOX1NFQ1JFVCxcclxuICAgICAgICAoZXJyLCBkZWNvZGVkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDMpOyAvLyBJbnZhbGlkIHRva2VuXHJcbiAgICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlZC5Vc2VySW5mby51c2VybmFtZTtcclxuICAgICAgICAgICAgcmVxLnJvbGVzID0gZGVjb2RlZC5Vc2VySW5mby5yb2xlc1xyXG4gICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB2ZXJpZnlKV1QiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUluQyxNQUFNQyxTQUFTLEdBQUcsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUNsQyxNQUFNQyxVQUFVLEdBQUdILEdBQUcsQ0FBQ0ksT0FBTyxDQUFDQyxhQUFhLElBQUlMLEdBQUcsQ0FBQ0ksT0FBTyxDQUFDRSxhQUFhO0VBQ3pFLElBQUksQ0FBQ0gsVUFBVSxFQUFFSSxVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUUsT0FBT04sR0FBRyxDQUFDTyxVQUFVLENBQUMsR0FBRyxDQUFDO0VBQ2xFLE1BQU1DLEtBQUssR0FBR04sVUFBVSxDQUFDTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ3RDYixHQUFHLENBQUNjLE1BQU0sQ0FDTkYsS0FBSyxFQUNMRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsbUJBQW1CLEVBQy9CLENBQUNDLEdBQUcsRUFBRUMsT0FBTyxLQUFLO0lBQ2QsSUFBSUQsR0FBRyxFQUFFLE9BQU9kLEdBQUcsQ0FBQ08sVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDckNSLEdBQUcsQ0FBQ2lCLElBQUksR0FBR0QsT0FBTyxDQUFDRSxRQUFRLENBQUNDLFFBQVE7SUFDcENuQixHQUFHLENBQUNvQixLQUFLLEdBQUdKLE9BQU8sQ0FBQ0UsUUFBUSxDQUFDRSxLQUFLO0lBQ2xDbEIsSUFBSSxFQUFFO0VBQ1YsQ0FBQyxDQUNKO0FBQ0wsQ0FBQztBQUVEbUIsTUFBTSxDQUFDQyxPQUFPLEdBQUd2QixTQUFTIn0=","map":{"version":3,"names":["jwt","require","verifyJWT","req","res","next","authHeader","headers","authorization","Authorization","startsWith","sendStatus","token","split","verify","process","env","ACCESS_TOKEN_SECRET","err","decoded","user","UserInfo","username","roles","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\middleware\\","sources":["verifyJWT.js"],"sourcesContent":["const jwt = require('jsonwebtoken');\r\n\r\n\r\n\r\nconst verifyJWT = (req, res, next) => {\r\n    const authHeader = req.headers.authorization || req.headers.Authorization;\r\n    if (!authHeader?.startsWith('Bearer ')) return res.sendStatus(401);\r\n    const token = authHeader.split(' ')[1];\r\n    jwt.verify(\r\n        token,\r\n        process.env.ACCESS_TOKEN_SECRET,\r\n        (err, decoded) => {\r\n            if (err) return res.sendStatus(403); // Invalid token\r\n            req.user = decoded.UserInfo.username;\r\n            req.roles = decoded.UserInfo.roles\r\n            next();\r\n        }\r\n    );\r\n}\r\n\r\nmodule.exports = verifyJWT"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAc,CAAC;AAInC,MAAMC,SAAS,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAClC,MAAMC,UAAU,GAAGH,GAAG,CAACI,OAAO,CAACC,aAAa,IAAIL,GAAG,CAACI,OAAO,CAACE,aAAa;EACzE,IAAI,CAACH,UAAU,EAAEI,UAAU,CAAC,SAAS,CAAC,EAAE,OAAON,GAAG,CAACO,UAAU,CAAC,GAAG,CAAC;EAClE,MAAMC,KAAK,GAAGN,UAAU,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACtCb,GAAG,CAACc,MAAM,CACNF,KAAK,EACLG,OAAO,CAACC,GAAG,CAACC,mBAAmB,EAC/B,CAACC,GAAG,EAAEC,OAAO,KAAK;IACd,IAAID,GAAG,EAAE,OAAOd,GAAG,CAACO,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;IACrCR,GAAG,CAACiB,IAAI,GAAGD,OAAO,CAACE,QAAQ,CAACC,QAAQ;IACpCnB,GAAG,CAACoB,KAAK,GAAGJ,OAAO,CAACE,QAAQ,CAACE,KAAK;IAClClB,IAAI,EAAE;EACV,CAAC,CACJ;AACL,CAAC;AAEDmB,MAAM,CAACC,OAAO,GAAGvB,SAAS"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\refresh.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst refreshTokenController = require('../controllers/refreshTokenController');\nrouter.get('/', refreshTokenController.handleRefreshToken);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInJlZnJlc2hUb2tlbkNvbnRyb2xsZXIiLCJnZXQiLCJoYW5kbGVSZWZyZXNoVG9rZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbInJlZnJlc2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgcmVmcmVzaFRva2VuQ29udHJvbGxlciA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL3JlZnJlc2hUb2tlbkNvbnRyb2xsZXInKTtcclxuXHJcbnJvdXRlci5nZXQoJy8nLCByZWZyZXNoVG9rZW5Db250cm9sbGVyLmhhbmRsZVJlZnJlc2hUb2tlbik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxFQUFFO0FBQy9CLE1BQU1DLHNCQUFzQixHQUFHSCxPQUFPLENBQUMsdUNBQXVDLENBQUM7QUFFL0VDLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLEdBQUcsRUFBRUQsc0JBQXNCLENBQUNFLGtCQUFrQixDQUFDO0FBRTFEQyxNQUFNLENBQUNDLE9BQU8sR0FBR04sTUFBTSJ9","map":{"version":3,"names":["express","require","router","Router","refreshTokenController","get","handleRefreshToken","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\routes\\","sources":["refresh.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst refreshTokenController = require('../controllers/refreshTokenController');\r\n\r\nrouter.get('/', refreshTokenController.handleRefreshToken);\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC/B,MAAMC,sBAAsB,GAAGH,OAAO,CAAC,uCAAuC,CAAC;AAE/EC,MAAM,CAACG,GAAG,CAAC,GAAG,EAAED,sBAAsB,CAACE,kBAAkB,CAAC;AAE1DC,MAAM,CAACC,OAAO,GAAGN,MAAM"}},"mtime":1668807683350},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\refreshTokenController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const User = require('../model/User');\nconst bcrypt = require('bcrypt');\nconst jwt = require('jsonwebtoken');\nconst handleRefreshToken = async (req, res) => {\n  const cookies = req.cookies;\n  console.log(\"cookies\", cookies);\n  console.log(cookies?.jwt);\n  if (!cookies?.jwt) return res.sendStatus(401);\n  const refreshToken = cookies.jwt;\n  const foundUser = await User.findOne({\n    refreshToken\n  }).exec();\n  if (!foundUser) return res.sendStatus(403); //Forbidden \n  // evaluate jwt\n  jwt.verify(refreshToken, process.env.REFRESH_TOKEN_SECRET, (err, decoded) => {\n    if (err || foundUser.username !== decoded.username) return res.sendStatus(403);\n    const roles = Object.values(foundUser.roles);\n    const accessToken = jwt.sign({\n      \"Userinfo\": {\n        \"username\": decoded.username,\n        \"roles\": roles\n      }\n    }, process.env.ACCESS_TOKEN_SECRET, {\n      expiresIn: '3000s'\n    });\n    res.json({\n      roles,\n      accessToken\n    });\n  });\n};\nmodule.exports = {\n  handleRefreshToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImJjcnlwdCIsImp3dCIsImhhbmRsZVJlZnJlc2hUb2tlbiIsInJlcSIsInJlcyIsImNvb2tpZXMiLCJjb25zb2xlIiwibG9nIiwic2VuZFN0YXR1cyIsInJlZnJlc2hUb2tlbiIsImZvdW5kVXNlciIsImZpbmRPbmUiLCJleGVjIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIlJFRlJFU0hfVE9LRU5fU0VDUkVUIiwiZXJyIiwiZGVjb2RlZCIsInVzZXJuYW1lIiwicm9sZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJhY2Nlc3NUb2tlbiIsInNpZ24iLCJBQ0NFU1NfVE9LRU5fU0VDUkVUIiwiZXhwaXJlc0luIiwianNvbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJyZWZyZXNoVG9rZW5Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbC9Vc2VyJyk7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuXHJcblxyXG5jb25zdCBoYW5kbGVSZWZyZXNoVG9rZW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGNvb2tpZXMgPSByZXEuY29va2llc1xyXG4gICAgY29uc29sZS5sb2coXCJjb29raWVzXCIsY29va2llcylcclxuICAgIGNvbnNvbGUubG9nKGNvb2tpZXM/Lmp3dClcclxuICAgIGlmICghY29va2llcz8uand0KSByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAxKTtcclxuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGNvb2tpZXMuand0O1xyXG5cclxuICAgIGNvbnN0IGZvdW5kVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHJlZnJlc2hUb2tlbiB9KS5leGVjKCk7XHJcbiAgICBpZiAoIWZvdW5kVXNlcikgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMyk7IC8vRm9yYmlkZGVuIFxyXG4gICAgLy8gZXZhbHVhdGUgand0XHJcbiAgICBqd3QudmVyaWZ5KFxyXG4gICAgICAgIHJlZnJlc2hUb2tlbixcclxuICAgICAgICBwcm9jZXNzLmVudi5SRUZSRVNIX1RPS0VOX1NFQ1JFVCxcclxuICAgICAgICAoZXJyLGRlY29kZWQpID0+IHtcclxuICAgICAgICAgICAgaWYoZXJyIHx8IGZvdW5kVXNlci51c2VybmFtZSAhPT1kZWNvZGVkLnVzZXJuYW1lKSByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAzKTtcclxuICAgICAgICAgICAgY29uc3Qgcm9sZXMgPSBPYmplY3QudmFsdWVzKGZvdW5kVXNlci5yb2xlcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gand0LnNpZ24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJVc2VyaW5mb1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiOiBkZWNvZGVkLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIFwicm9sZXNcIjogcm9sZXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5BQ0NFU1NfVE9LRU5fU0VDUkVULFxyXG4gICAgICAgICAgICAgICAge2V4cGlyZXNJbjogJzMwMDBzJ31cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmVzLmpzb24oeyByb2xlcywgYWNjZXNzVG9rZW4gfSlcclxuICAgICAgICB9XHJcbiAgICApO1xyXG4gICAgICAgIFxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgaGFuZGxlUmVmcmVzaFRva2VuIH0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUNyQyxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsTUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDO0FBR25DLE1BQU1HLGtCQUFrQixHQUFHLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzNDLE1BQU1DLE9BQU8sR0FBR0YsR0FBRyxDQUFDRSxPQUFPO0VBQzNCQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxTQUFTLEVBQUNGLE9BQU8sQ0FBQztFQUM5QkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLE9BQU8sRUFBRUosR0FBRyxDQUFDO0VBQ3pCLElBQUksQ0FBQ0ksT0FBTyxFQUFFSixHQUFHLEVBQUUsT0FBT0csR0FBRyxDQUFDSSxVQUFVLENBQUMsR0FBRyxDQUFDO0VBQzdDLE1BQU1DLFlBQVksR0FBR0osT0FBTyxDQUFDSixHQUFHO0VBRWhDLE1BQU1TLFNBQVMsR0FBRyxNQUFNWixJQUFJLENBQUNhLE9BQU8sQ0FBQztJQUFFRjtFQUFhLENBQUMsQ0FBQyxDQUFDRyxJQUFJLEVBQUU7RUFDN0QsSUFBSSxDQUFDRixTQUFTLEVBQUUsT0FBT04sR0FBRyxDQUFDSSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztFQUM1QztFQUNBUCxHQUFHLENBQUNZLE1BQU0sQ0FDTkosWUFBWSxFQUNaSyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0Msb0JBQW9CLEVBQ2hDLENBQUNDLEdBQUcsRUFBQ0MsT0FBTyxLQUFLO0lBQ2IsSUFBR0QsR0FBRyxJQUFJUCxTQUFTLENBQUNTLFFBQVEsS0FBSUQsT0FBTyxDQUFDQyxRQUFRLEVBQUUsT0FBT2YsR0FBRyxDQUFDSSxVQUFVLENBQUMsR0FBRyxDQUFDO0lBQzVFLE1BQU1ZLEtBQUssR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQUNaLFNBQVMsQ0FBQ1UsS0FBSyxDQUFDO0lBQzVDLE1BQU1HLFdBQVcsR0FBR3RCLEdBQUcsQ0FBQ3VCLElBQUksQ0FDeEI7TUFDSSxVQUFVLEVBQUU7UUFDWixVQUFVLEVBQUVOLE9BQU8sQ0FBQ0MsUUFBUTtRQUM1QixPQUFPLEVBQUVDO01BQ2I7SUFFSixDQUFDLEVBQ0dOLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVSxtQkFBbUIsRUFDL0I7TUFBQ0MsU0FBUyxFQUFFO0lBQU8sQ0FBQyxDQUN2QjtJQUNEdEIsR0FBRyxDQUFDdUIsSUFBSSxDQUFDO01BQUVQLEtBQUs7TUFBRUc7SUFBWSxDQUFDLENBQUM7RUFDcEMsQ0FBQyxDQUNKO0FBRUwsQ0FBQztBQUVESyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFFM0I7QUFBbUIsQ0FBQyJ9","map":{"version":3,"names":["User","require","bcrypt","jwt","handleRefreshToken","req","res","cookies","console","log","sendStatus","refreshToken","foundUser","findOne","exec","verify","process","env","REFRESH_TOKEN_SECRET","err","decoded","username","roles","Object","values","accessToken","sign","ACCESS_TOKEN_SECRET","expiresIn","json","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\controllers\\","sources":["refreshTokenController.js"],"sourcesContent":["const User = require('../model/User');\r\nconst bcrypt = require('bcrypt');\r\nconst jwt = require('jsonwebtoken');\r\n\r\n\r\nconst handleRefreshToken = async (req, res) => {\r\n    const cookies = req.cookies\r\n    console.log(\"cookies\",cookies)\r\n    console.log(cookies?.jwt)\r\n    if (!cookies?.jwt) return res.sendStatus(401);\r\n    const refreshToken = cookies.jwt;\r\n\r\n    const foundUser = await User.findOne({ refreshToken }).exec();\r\n    if (!foundUser) return res.sendStatus(403); //Forbidden \r\n    // evaluate jwt\r\n    jwt.verify(\r\n        refreshToken,\r\n        process.env.REFRESH_TOKEN_SECRET,\r\n        (err,decoded) => {\r\n            if(err || foundUser.username !==decoded.username) return res.sendStatus(403);\r\n            const roles = Object.values(foundUser.roles);\r\n            const accessToken = jwt.sign(\r\n                {\r\n                    \"Userinfo\": {\r\n                    \"username\": decoded.username,\r\n                    \"roles\": roles\r\n                }\r\n            \r\n            },\r\n                process.env.ACCESS_TOKEN_SECRET,\r\n                {expiresIn: '3000s'}\r\n            );\r\n            res.json({ roles, accessToken })\r\n        }\r\n    );\r\n        \r\n}\r\n\r\nmodule.exports = { handleRefreshToken }"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,eAAe,CAAC;AACrC,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAME,GAAG,GAAGF,OAAO,CAAC,cAAc,CAAC;AAGnC,MAAMG,kBAAkB,GAAG,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC3C,MAAMC,OAAO,GAAGF,GAAG,CAACE,OAAO;EAC3BC,OAAO,CAACC,GAAG,CAAC,SAAS,EAACF,OAAO,CAAC;EAC9BC,OAAO,CAACC,GAAG,CAACF,OAAO,EAAEJ,GAAG,CAAC;EACzB,IAAI,CAACI,OAAO,EAAEJ,GAAG,EAAE,OAAOG,GAAG,CAACI,UAAU,CAAC,GAAG,CAAC;EAC7C,MAAMC,YAAY,GAAGJ,OAAO,CAACJ,GAAG;EAEhC,MAAMS,SAAS,GAAG,MAAMZ,IAAI,CAACa,OAAO,CAAC;IAAEF;EAAa,CAAC,CAAC,CAACG,IAAI,EAAE;EAC7D,IAAI,CAACF,SAAS,EAAE,OAAON,GAAG,CAACI,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;EAC5C;EACAP,GAAG,CAACY,MAAM,CACNJ,YAAY,EACZK,OAAO,CAACC,GAAG,CAACC,oBAAoB,EAChC,CAACC,GAAG,EAACC,OAAO,KAAK;IACb,IAAGD,GAAG,IAAIP,SAAS,CAACS,QAAQ,KAAID,OAAO,CAACC,QAAQ,EAAE,OAAOf,GAAG,CAACI,UAAU,CAAC,GAAG,CAAC;IAC5E,MAAMY,KAAK,GAAGC,MAAM,CAACC,MAAM,CAACZ,SAAS,CAACU,KAAK,CAAC;IAC5C,MAAMG,WAAW,GAAGtB,GAAG,CAACuB,IAAI,CACxB;MACI,UAAU,EAAE;QACZ,UAAU,EAAEN,OAAO,CAACC,QAAQ;QAC5B,OAAO,EAAEC;MACb;IAEJ,CAAC,EACGN,OAAO,CAACC,GAAG,CAACU,mBAAmB,EAC/B;MAACC,SAAS,EAAE;IAAO,CAAC,CACvB;IACDtB,GAAG,CAACuB,IAAI,CAAC;MAAEP,KAAK;MAAEG;IAAY,CAAC,CAAC;EACpC,CAAC,CACJ;AAEL,CAAC;AAEDK,MAAM,CAACC,OAAO,GAAG;EAAE3B;AAAmB,CAAC"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\logout.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst logoutController = require('../controllers/logoutController');\nrouter.get('/', logoutController.handleLogout);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImxvZ291dENvbnRyb2xsZXIiLCJnZXQiLCJoYW5kbGVMb2dvdXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbImxvZ291dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBsb2dvdXRDb250cm9sbGVyID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvbG9nb3V0Q29udHJvbGxlcicpO1xyXG5cclxucm91dGVyLmdldCgnLycsIGxvZ291dENvbnRyb2xsZXIuaGFuZGxlTG9nb3V0KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEVBQUU7QUFDL0IsTUFBTUMsZ0JBQWdCLEdBQUdILE9BQU8sQ0FBQyxpQ0FBaUMsQ0FBQztBQUVuRUMsTUFBTSxDQUFDRyxHQUFHLENBQUMsR0FBRyxFQUFFRCxnQkFBZ0IsQ0FBQ0UsWUFBWSxDQUFDO0FBRTlDQyxNQUFNLENBQUNDLE9BQU8sR0FBR04sTUFBTSJ9","map":{"version":3,"names":["express","require","router","Router","logoutController","get","handleLogout","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\routes\\","sources":["logout.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst logoutController = require('../controllers/logoutController');\r\n\r\nrouter.get('/', logoutController.handleLogout);\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC/B,MAAMC,gBAAgB,GAAGH,OAAO,CAAC,iCAAiC,CAAC;AAEnEC,MAAM,CAACG,GAAG,CAAC,GAAG,EAAED,gBAAgB,CAACE,YAAY,CAAC;AAE9CC,MAAM,CAACC,OAAO,GAAGN,MAAM"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\logoutController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const User = require('../model/User');\nconst handleLogout = async (req, res) => {\n  //On client, also delete the accessToken \n\n  const cookies = req.cookies;\n  if (!cookies?.jwt) return res.status(204); // No content\n  const refreshToken = cookies.jwt;\n\n  // IS REFRESHTOKEN IN DB?\n\n  const foundUser = await User.findOne({\n    refreshToken\n  }).exec();\n  if (!foundUser) {\n    res.clearCookie('jwt', {\n      httpOnly: true,\n      sameSite: 'None',\n      secure: true,\n      maxAge: 24 * 60 * 60 * 1000\n    });\n    return res.sendStatus(204); //No content \n  }\n\n  // Delete refreshToken in db\n  foundUser.refreshToken = '';\n  const result = await foundUser.save();\n  console.log(result);\n  res.clearCookie('jwt', {\n    httpOnly: true,\n    sameSite: 'None',\n    secure: true\n  });\n  res.sendStatus(204);\n};\nmodule.exports = {\n  handleLogout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImhhbmRsZUxvZ291dCIsInJlcSIsInJlcyIsImNvb2tpZXMiLCJqd3QiLCJzdGF0dXMiLCJyZWZyZXNoVG9rZW4iLCJmb3VuZFVzZXIiLCJmaW5kT25lIiwiZXhlYyIsImNsZWFyQ29va2llIiwiaHR0cE9ubHkiLCJzYW1lU2l0ZSIsInNlY3VyZSIsIm1heEFnZSIsInNlbmRTdGF0dXMiLCJyZXN1bHQiLCJzYXZlIiwiY29uc29sZSIsImxvZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJsb2dvdXRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbC9Vc2VyJyk7XHJcblxyXG5jb25zdCBoYW5kbGVMb2dvdXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIC8vT24gY2xpZW50LCBhbHNvIGRlbGV0ZSB0aGUgYWNjZXNzVG9rZW4gXHJcblxyXG4gICAgY29uc3QgY29va2llcyA9IHJlcS5jb29raWVzXHJcbiAgICBpZiAoIWNvb2tpZXM/Lmp3dCkgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KTsgLy8gTm8gY29udGVudFxyXG4gICAgY29uc3QgcmVmcmVzaFRva2VuID0gY29va2llcy5qd3Q7XHJcblxyXG4gICAgIC8vIElTIFJFRlJFU0hUT0tFTiBJTiBEQj9cclxuXHJcbiAgICBjb25zdCBmb3VuZFVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyByZWZyZXNoVG9rZW4gfSkuZXhlYygpO1xyXG4gICAgaWYgKCFmb3VuZFVzZXIpIHtcclxuICAgICAgICByZXMuY2xlYXJDb29raWUoJ2p3dCcse2h0dHBPbmx5OiB0cnVlLCBzYW1lU2l0ZTogJ05vbmUnLCBzZWN1cmU6IHRydWUsICBtYXhBZ2U6IDI0ICogNjAgKiA2MCAqIDEwMDB9KTtcclxuICAgICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoMjA0KTsgLy9ObyBjb250ZW50IFxyXG4gICAgfVxyXG5cclxuICAgIC8vIERlbGV0ZSByZWZyZXNoVG9rZW4gaW4gZGJcclxuICAgICAgICBmb3VuZFVzZXIucmVmcmVzaFRva2VuID0gJyc7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm91bmRVc2VyLnNhdmUoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG5cclxuICAgICAgICByZXMuY2xlYXJDb29raWUoJ2p3dCcseyBodHRwT25seTogdHJ1ZSwgc2FtZVNpdGU6ICdOb25lJywgc2VjdXJlOiB0cnVlIH0pOyBcclxuICAgICAgICByZXMuc2VuZFN0YXR1cygyMDQpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgaGFuZGxlTG9nb3V0IH0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUVyQyxNQUFNQyxZQUFZLEdBQUcsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDckM7O0VBRUEsTUFBTUMsT0FBTyxHQUFHRixHQUFHLENBQUNFLE9BQU87RUFDM0IsSUFBSSxDQUFDQSxPQUFPLEVBQUVDLEdBQUcsRUFBRSxPQUFPRixHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0VBQzNDLE1BQU1DLFlBQVksR0FBR0gsT0FBTyxDQUFDQyxHQUFHOztFQUUvQjs7RUFFRCxNQUFNRyxTQUFTLEdBQUcsTUFBTVQsSUFBSSxDQUFDVSxPQUFPLENBQUM7SUFBRUY7RUFBYSxDQUFDLENBQUMsQ0FBQ0csSUFBSSxFQUFFO0VBQzdELElBQUksQ0FBQ0YsU0FBUyxFQUFFO0lBQ1pMLEdBQUcsQ0FBQ1EsV0FBVyxDQUFDLEtBQUssRUFBQztNQUFDQyxRQUFRLEVBQUUsSUFBSTtNQUFFQyxRQUFRLEVBQUUsTUFBTTtNQUFFQyxNQUFNLEVBQUUsSUFBSTtNQUFHQyxNQUFNLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7SUFBSSxDQUFDLENBQUM7SUFDckcsT0FBT1osR0FBRyxDQUFDYSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztFQUNoQzs7RUFFQTtFQUNJUixTQUFTLENBQUNELFlBQVksR0FBRyxFQUFFO0VBQzNCLE1BQU1VLE1BQU0sR0FBRyxNQUFNVCxTQUFTLENBQUNVLElBQUksRUFBRTtFQUNyQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNILE1BQU0sQ0FBQztFQUVuQmQsR0FBRyxDQUFDUSxXQUFXLENBQUMsS0FBSyxFQUFDO0lBQUVDLFFBQVEsRUFBRSxJQUFJO0lBQUVDLFFBQVEsRUFBRSxNQUFNO0lBQUVDLE1BQU0sRUFBRTtFQUFLLENBQUMsQ0FBQztFQUN6RVgsR0FBRyxDQUFDYSxVQUFVLENBQUMsR0FBRyxDQUFDO0FBQzNCLENBQUM7QUFFREssTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRXJCO0FBQWEsQ0FBQyJ9","map":{"version":3,"names":["User","require","handleLogout","req","res","cookies","jwt","status","refreshToken","foundUser","findOne","exec","clearCookie","httpOnly","sameSite","secure","maxAge","sendStatus","result","save","console","log","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\controllers\\","sources":["logoutController.js"],"sourcesContent":["const User = require('../model/User');\r\n\r\nconst handleLogout = async (req, res) => {\r\n    //On client, also delete the accessToken \r\n\r\n    const cookies = req.cookies\r\n    if (!cookies?.jwt) return res.status(204); // No content\r\n    const refreshToken = cookies.jwt;\r\n\r\n     // IS REFRESHTOKEN IN DB?\r\n\r\n    const foundUser = await User.findOne({ refreshToken }).exec();\r\n    if (!foundUser) {\r\n        res.clearCookie('jwt',{httpOnly: true, sameSite: 'None', secure: true,  maxAge: 24 * 60 * 60 * 1000});\r\n        return res.sendStatus(204); //No content \r\n    }\r\n\r\n    // Delete refreshToken in db\r\n        foundUser.refreshToken = '';\r\n        const result = await foundUser.save();\r\n        console.log(result);\r\n\r\n        res.clearCookie('jwt',{ httpOnly: true, sameSite: 'None', secure: true }); \r\n        res.sendStatus(204);\r\n}\r\n\r\nmodule.exports = { handleLogout }"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,eAAe,CAAC;AAErC,MAAMC,YAAY,GAAG,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACrC;;EAEA,MAAMC,OAAO,GAAGF,GAAG,CAACE,OAAO;EAC3B,IAAI,CAACA,OAAO,EAAEC,GAAG,EAAE,OAAOF,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;EAC3C,MAAMC,YAAY,GAAGH,OAAO,CAACC,GAAG;;EAE/B;;EAED,MAAMG,SAAS,GAAG,MAAMT,IAAI,CAACU,OAAO,CAAC;IAAEF;EAAa,CAAC,CAAC,CAACG,IAAI,EAAE;EAC7D,IAAI,CAACF,SAAS,EAAE;IACZL,GAAG,CAACQ,WAAW,CAAC,KAAK,EAAC;MAACC,QAAQ,EAAE,IAAI;MAAEC,QAAQ,EAAE,MAAM;MAAEC,MAAM,EAAE,IAAI;MAAGC,MAAM,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;IAAI,CAAC,CAAC;IACrG,OAAOZ,GAAG,CAACa,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;EAChC;;EAEA;EACIR,SAAS,CAACD,YAAY,GAAG,EAAE;EAC3B,MAAMU,MAAM,GAAG,MAAMT,SAAS,CAACU,IAAI,EAAE;EACrCC,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;EAEnBd,GAAG,CAACQ,WAAW,CAAC,KAAK,EAAC;IAAEC,QAAQ,EAAE,IAAI;IAAEC,QAAQ,EAAE,MAAM;IAAEC,MAAM,EAAE;EAAK,CAAC,CAAC;EACzEX,GAAG,CAACa,UAAU,CAAC,GAAG,CAAC;AAC3B,CAAC;AAEDK,MAAM,CAACC,OAAO,GAAG;EAAErB;AAAa,CAAC"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\config\\\\allowedOrigins.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const allowedOrigins = ['https://www.yoursite.com', 'http://127.0.0.1:5500', 'http://localhost:3500', 'http://localhost:3000'];\nmodule.exports = allowedOrigins;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbGxvd2VkT3JpZ2lucyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsiYWxsb3dlZE9yaWdpbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWxsb3dlZE9yaWdpbnMgPSBbXHJcbiAgICAnaHR0cHM6Ly93d3cueW91cnNpdGUuY29tJyxcclxuICAgICdodHRwOi8vMTI3LjAuMC4xOjU1MDAnLFxyXG4gICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzUwMCcsXHJcbiAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ1xyXG5dO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBhbGxvd2VkT3JpZ2luczsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLGNBQWMsR0FBRyxDQUNuQiwwQkFBMEIsRUFDMUIsdUJBQXVCLEVBQ3ZCLHVCQUF1QixFQUN2Qix1QkFBdUIsQ0FDMUI7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUdGLGNBQWMifQ==","map":{"version":3,"names":["allowedOrigins","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\config\\","sources":["allowedOrigins.js"],"sourcesContent":["const allowedOrigins = [\r\n    'https://www.yoursite.com',\r\n    'http://127.0.0.1:5500',\r\n    'http://localhost:3500',\r\n    'http://localhost:3000'\r\n];\r\n\r\nmodule.exports = allowedOrigins;"],"mappings":"AAAA,MAAMA,cAAc,GAAG,CACnB,0BAA0B,EAC1B,uBAAuB,EACvB,uBAAuB,EACvB,uBAAuB,CAC1B;AAEDC,MAAM,CAACC,OAAO,GAAGF,cAAc"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\credentials.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const allowedOrigins = require('../config/allowedOrigins');\nconst credentials = (req, res, next) => {\n  const origin = req.headers.origin;\n  if (allowedOrigins.includes(origin)) {\n    res.header('Access-Control-Allow-Credentials', true);\n  }\n  next();\n};\nmodule.exports = credentials;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhbGxvd2VkT3JpZ2lucyIsInJlcXVpcmUiLCJjcmVkZW50aWFscyIsInJlcSIsInJlcyIsIm5leHQiLCJvcmlnaW4iLCJoZWFkZXJzIiwiaW5jbHVkZXMiLCJoZWFkZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xcbWlkZGxld2FyZVxcIiwic291cmNlcyI6WyJjcmVkZW50aWFscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbGxvd2VkT3JpZ2lucyA9IHJlcXVpcmUoJy4uL2NvbmZpZy9hbGxvd2VkT3JpZ2lucycpO1xyXG5cclxuY29uc3QgY3JlZGVudGlhbHMgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGNvbnN0IG9yaWdpbiA9IHJlcS5oZWFkZXJzLm9yaWdpbjtcclxuICAgIGlmIChhbGxvd2VkT3JpZ2lucy5pbmNsdWRlcyhvcmlnaW4pKSB7XHJcbiAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCB0cnVlKTtcclxuICAgIH1cclxuICAgIG5leHQoKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjcmVkZW50aWFscyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsY0FBYyxHQUFHQyxPQUFPLENBQUMsMEJBQTBCLENBQUM7QUFFMUQsTUFBTUMsV0FBVyxHQUFHLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDcEMsTUFBTUMsTUFBTSxHQUFHSCxHQUFHLENBQUNJLE9BQU8sQ0FBQ0QsTUFBTTtFQUNqQyxJQUFJTixjQUFjLENBQUNRLFFBQVEsQ0FBQ0YsTUFBTSxDQUFDLEVBQUU7SUFDakNGLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLGtDQUFrQyxFQUFFLElBQUksQ0FBQztFQUN4RDtFQUNBSixJQUFJLEVBQUU7QUFDVixDQUFDO0FBRURLLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHVCxXQUFXIn0=","map":{"version":3,"names":["allowedOrigins","require","credentials","req","res","next","origin","headers","includes","header","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\middleware\\","sources":["credentials.js"],"sourcesContent":["const allowedOrigins = require('../config/allowedOrigins');\r\n\r\nconst credentials = (req, res, next) => {\r\n    const origin = req.headers.origin;\r\n    if (allowedOrigins.includes(origin)) {\r\n        res.header('Access-Control-Allow-Credentials', true);\r\n    }\r\n    next();\r\n}\r\n\r\nmodule.exports = credentials"],"mappings":"AAAA,MAAMA,cAAc,GAAGC,OAAO,CAAC,0BAA0B,CAAC;AAE1D,MAAMC,WAAW,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACpC,MAAMC,MAAM,GAAGH,GAAG,CAACI,OAAO,CAACD,MAAM;EACjC,IAAIN,cAAc,CAACQ,QAAQ,CAACF,MAAM,CAAC,EAAE;IACjCF,GAAG,CAACK,MAAM,CAAC,kCAAkC,EAAE,IAAI,CAAC;EACxD;EACAJ,IAAI,EAAE;AACV,CAAC;AAEDK,MAAM,CAACC,OAAO,GAAGT,WAAW"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\config\\\\roles_list.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const ROLES_LIST = {\n  \"Admin\": 5150,\n  \"Editor\": 1984,\n  \"User\": 2001\n};\nmodule.exports = ROLES_LIST;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJST0xFU19MSVNUIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx3aWxsaVxcRG9jdW1lbnRzXFxHaXRIdWJcXFByb3llY3RvUmVhY3RVbml2ZXJzaWRhZFxcU2VydmVyXFxzcmNcXGNvbmZpZ1xcIiwic291cmNlcyI6WyJyb2xlc19saXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJPTEVTX0xJU1QgPSB7XHJcbiAgICBcIkFkbWluXCI6IDUxNTAsXHJcbiAgICBcIkVkaXRvclwiOiAxOTg0LFxyXG4gICAgXCJVc2VyXCI6IDIwMDFcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBST0xFU19MSVNUIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxVQUFVLEdBQUc7RUFDZixPQUFPLEVBQUUsSUFBSTtFQUNiLFFBQVEsRUFBRSxJQUFJO0VBQ2QsTUFBTSxFQUFFO0FBQ1osQ0FBQztBQUVEQyxNQUFNLENBQUNDLE9BQU8sR0FBR0YsVUFBVSJ9","map":{"version":3,"names":["ROLES_LIST","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\config\\","sources":["roles_list.js"],"sourcesContent":["const ROLES_LIST = {\r\n    \"Admin\": 5150,\r\n    \"Editor\": 1984,\r\n    \"User\": 2001\r\n}\r\n\r\nmodule.exports = ROLES_LIST"],"mappings":"AAAA,MAAMA,UAAU,GAAG;EACf,OAAO,EAAE,IAAI;EACb,QAAQ,EAAE,IAAI;EACd,MAAM,EAAE;AACZ,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGF,UAAU"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\middleware\\\\verifyRoles.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const verifyRoles = (...allowedRoles) => {\n  return (req, res, next) => {\n    if (!req?.roles) return res.sendStatus(401);\n    const rolesArray = [...allowedRoles];\n    const result = req.roles.map(role => rolesArray.includes(role)).find(val => val === true);\n    if (!result) return res.sendStatus(401);\n    next();\n  };\n};\nmodule.exports = verifyRoles;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2ZXJpZnlSb2xlcyIsImFsbG93ZWRSb2xlcyIsInJlcSIsInJlcyIsIm5leHQiLCJyb2xlcyIsInNlbmRTdGF0dXMiLCJyb2xlc0FycmF5IiwicmVzdWx0IiwibWFwIiwicm9sZSIsImluY2x1ZGVzIiwiZmluZCIsInZhbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxtaWRkbGV3YXJlXFwiLCJzb3VyY2VzIjpbInZlcmlmeVJvbGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHZlcmlmeVJvbGVzID0gKC4uLmFsbG93ZWRSb2xlcykgPT4ge1xyXG4gICAgcmV0dXJuIChyZXEsIHJlcywgbmV4dCApID0+ICB7XHJcbiAgICAgICAgaWYgKCFyZXE/LnJvbGVzKSByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAxKTtcclxuICAgICAgICBjb25zdCByb2xlc0FycmF5ID0gWy4uLmFsbG93ZWRSb2xlc107XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVxLnJvbGVzLm1hcChyb2xlID0+IHJvbGVzQXJyYXkuaW5jbHVkZXMocm9sZSkpLmZpbmQodmFsID0+IHZhbCA9PT0gdHJ1ZSk7XHJcbiAgICAgICAgaWYgKCFyZXN1bHQpIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDEpO1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB2ZXJpZnlSb2xlcyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsV0FBVyxHQUFHLENBQUMsR0FBR0MsWUFBWSxLQUFLO0VBQ3JDLE9BQU8sQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBTztJQUN6QixJQUFJLENBQUNGLEdBQUcsRUFBRUcsS0FBSyxFQUFFLE9BQU9GLEdBQUcsQ0FBQ0csVUFBVSxDQUFDLEdBQUcsQ0FBQztJQUMzQyxNQUFNQyxVQUFVLEdBQUcsQ0FBQyxHQUFHTixZQUFZLENBQUM7SUFDcEMsTUFBTU8sTUFBTSxHQUFHTixHQUFHLENBQUNHLEtBQUssQ0FBQ0ksR0FBRyxDQUFDQyxJQUFJLElBQUlILFVBQVUsQ0FBQ0ksUUFBUSxDQUFDRCxJQUFJLENBQUMsQ0FBQyxDQUFDRSxJQUFJLENBQUNDLEdBQUcsSUFBSUEsR0FBRyxLQUFLLElBQUksQ0FBQztJQUN6RixJQUFJLENBQUNMLE1BQU0sRUFBRSxPQUFPTCxHQUFHLENBQUNHLFVBQVUsQ0FBQyxHQUFHLENBQUM7SUFDdkNGLElBQUksRUFBRTtFQUNWLENBQUM7QUFDTCxDQUFDO0FBRURVLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHZixXQUFXIn0=","map":{"version":3,"names":["verifyRoles","allowedRoles","req","res","next","roles","sendStatus","rolesArray","result","map","role","includes","find","val","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\middleware\\","sources":["verifyRoles.js"],"sourcesContent":["const verifyRoles = (...allowedRoles) => {\r\n    return (req, res, next ) =>  {\r\n        if (!req?.roles) return res.sendStatus(401);\r\n        const rolesArray = [...allowedRoles];\r\n        const result = req.roles.map(role => rolesArray.includes(role)).find(val => val === true);\r\n        if (!result) return res.sendStatus(401);\r\n        next();\r\n    }\r\n}\r\n\r\nmodule.exports = verifyRoles"],"mappings":"AAAA,MAAMA,WAAW,GAAG,CAAC,GAAGC,YAAY,KAAK;EACrC,OAAO,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAO;IACzB,IAAI,CAACF,GAAG,EAAEG,KAAK,EAAE,OAAOF,GAAG,CAACG,UAAU,CAAC,GAAG,CAAC;IAC3C,MAAMC,UAAU,GAAG,CAAC,GAAGN,YAAY,CAAC;IACpC,MAAMO,MAAM,GAAGN,GAAG,CAACG,KAAK,CAACI,GAAG,CAACC,IAAI,IAAIH,UAAU,CAACI,QAAQ,CAACD,IAAI,CAAC,CAAC,CAACE,IAAI,CAACC,GAAG,IAAIA,GAAG,KAAK,IAAI,CAAC;IACzF,IAAI,CAACL,MAAM,EAAE,OAAOL,GAAG,CAACG,UAAU,CAAC,GAAG,CAAC;IACvCF,IAAI,EAAE;EACV,CAAC;AACL,CAAC;AAEDU,MAAM,CAACC,OAAO,GAAGf,WAAW"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\config\\\\dbConn.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const mongoose = require('mongoose');\nconst connectDB = async () => {\n  try {\n    await mongoose.connect(process.env.DATABASE_URI, {\n      useUnifiedTopology: true,\n      useNewUrlParser: true\n    });\n  } catch (err) {\n    console.error(err);\n  }\n};\nmodule.exports = connectDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJjb25uZWN0REIiLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSSSIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZU5ld1VybFBhcnNlciIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsiZGJDb25uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IGNvbm5lY3REQiA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeXtcclxuICAgICAgICBhd2FpdCBtb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSSSwge1xyXG4gICAgICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICAgICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICBcclxuICAgIH0gY2F0Y2goZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNvbm5lY3REQiAiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUVwQyxNQUFNQyxTQUFTLEdBQUcsWUFBWTtFQUMxQixJQUFHO0lBQ0MsTUFBTUYsUUFBUSxDQUFDRyxPQUFPLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxZQUFZLEVBQUU7TUFDN0NDLGtCQUFrQixFQUFFLElBQUk7TUFDeEJDLGVBQWUsRUFBRTtJQUVyQixDQUFDLENBQUM7RUFHTixDQUFDLENBQUMsT0FBTUMsR0FBRyxFQUFFO0lBQ1RDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDRixHQUFHLENBQUM7RUFDdEI7QUFDSixDQUFDO0FBRURHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHWCxTQUFTIn0=","map":{"version":3,"names":["mongoose","require","connectDB","connect","process","env","DATABASE_URI","useUnifiedTopology","useNewUrlParser","err","console","error","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\config\\","sources":["dbConn.js"],"sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst connectDB = async () => {\r\n    try{\r\n        await mongoose.connect(process.env.DATABASE_URI, {\r\n            useUnifiedTopology: true,\r\n            useNewUrlParser: true\r\n\r\n        });\r\n\r\n    \r\n    } catch(err) {\r\n        console.error(err);\r\n    }\r\n}\r\n\r\nmodule.exports = connectDB "],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,SAAS,GAAG,YAAY;EAC1B,IAAG;IACC,MAAMF,QAAQ,CAACG,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,YAAY,EAAE;MAC7CC,kBAAkB,EAAE,IAAI;MACxBC,eAAe,EAAE;IAErB,CAAC,CAAC;EAGN,CAAC,CAAC,OAAMC,GAAG,EAAE;IACTC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;EACtB;AACJ,CAAC;AAEDG,MAAM,CAACC,OAAO,GAAGX,SAAS"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst userSchema = new Schema({\n  username: {\n    type: String,\n    required: true\n  },\n  roles: {\n    User: {\n      type: Number,\n      default: 2001\n    },\n    Editor: Number,\n    Admin: Number\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  refreshToken: String\n});\nmodule.exports = mongoose.model('User', userSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJ1c2VyU2NoZW1hIiwidXNlcm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyb2xlcyIsIlVzZXIiLCJOdW1iZXIiLCJkZWZhdWx0IiwiRWRpdG9yIiwiQWRtaW4iLCJwYXNzd29yZCIsInJlZnJlc2hUb2tlbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx3aWxsaVxcRG9jdW1lbnRzXFxHaXRIdWJcXFByb3llY3RvUmVhY3RVbml2ZXJzaWRhZFxcU2VydmVyXFxzcmNcXG1vZGVsXFwiLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICB1c2VybmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHJvbGVzOiB7XHJcbiAgICAgICAgVXNlcjoge1xyXG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IDIwMDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIEVkaXRvcjogTnVtYmVyLFxyXG4gICAgICAgIEFkbWluOiBOdW1iZXJcclxuICAgIH0sXHJcbiAgICBwYXNzd29yZDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHJlZnJlc2hUb2tlbjogU3RyaW5nXHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRSxNQUFNO0FBRTlCLE1BQU1DLFVBQVUsR0FBRyxJQUFJRCxNQUFNLENBQUM7RUFDMUJFLFFBQVEsRUFBRTtJQUNOQyxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ2QsQ0FBQztFQUNEQyxLQUFLLEVBQUU7SUFDSEMsSUFBSSxFQUFFO01BQ0ZKLElBQUksRUFBRUssTUFBTTtNQUNaQyxPQUFPLEVBQUU7SUFDYixDQUFDO0lBQ0RDLE1BQU0sRUFBRUYsTUFBTTtJQUNkRyxLQUFLLEVBQUVIO0VBQ1gsQ0FBQztFQUNESSxRQUFRLEVBQUU7SUFDTlQsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNkLENBQUM7RUFDRFEsWUFBWSxFQUFFVDtBQUNsQixDQUFDLENBQUM7QUFFRlUsTUFBTSxDQUFDQyxPQUFPLEdBQUdqQixRQUFRLENBQUNrQixLQUFLLENBQUMsTUFBTSxFQUFFZixVQUFVLENBQUMifQ==","map":{"version":3,"names":["mongoose","require","Schema","userSchema","username","type","String","required","roles","User","Number","default","Editor","Admin","password","refreshToken","module","exports","model"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\model\\","sources":["User.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst userSchema = new Schema({\r\n    username: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    roles: {\r\n        User: {\r\n            type: Number,\r\n            default: 2001\r\n        },\r\n        Editor: Number,\r\n        Admin: Number\r\n    },\r\n    password: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    refreshToken: String\r\n});\r\n\r\nmodule.exports = mongoose.model('User', userSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAM;AAE9B,MAAMC,UAAU,GAAG,IAAID,MAAM,CAAC;EAC1BE,QAAQ,EAAE;IACNC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACd,CAAC;EACDC,KAAK,EAAE;IACHC,IAAI,EAAE;MACFJ,IAAI,EAAEK,MAAM;MACZC,OAAO,EAAE;IACb,CAAC;IACDC,MAAM,EAAEF,MAAM;IACdG,KAAK,EAAEH;EACX,CAAC;EACDI,QAAQ,EAAE;IACNT,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACd,CAAC;EACDQ,YAAY,EAAET;AAClB,CAAC,CAAC;AAEFU,MAAM,CAACC,OAAO,GAAGjB,QAAQ,CAACkB,KAAK,CAAC,MAAM,EAAEf,UAAU,CAAC"}},"mtime":1668807679034},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\Employee.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst employeeSchema = new Schema({\n  firstname: {\n    type: String,\n    required: true\n  },\n  lastname: {\n    type: String,\n    required: true\n  }\n});\nmodule.exports = mongoose.model('Employee', employeeSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJlbXBsb3llZVNjaGVtYSIsImZpcnN0bmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImxhc3RuYW1lIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xcbW9kZWxcXCIsInNvdXJjZXMiOlsiRW1wbG95ZWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBlbXBsb3llZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgZmlyc3RuYW1lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgbGFzdG5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdFbXBsb3llZScsIGVtcGxveWVlU2NoZW1hKTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQ0UsTUFBTTtBQUU5QixNQUFNQyxjQUFjLEdBQUcsSUFBSUQsTUFBTSxDQUFDO0VBQzlCRSxTQUFTLEVBQUU7SUFDUEMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNkLENBQUM7RUFDREMsUUFBUSxFQUFFO0lBQ05ILElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDZDtBQUNKLENBQUMsQ0FBQztBQUVGRSxNQUFNLENBQUNDLE9BQU8sR0FBR1YsUUFBUSxDQUFDVyxLQUFLLENBQUMsVUFBVSxFQUFFUixjQUFjLENBQUMifQ==","map":{"version":3,"names":["mongoose","require","Schema","employeeSchema","firstname","type","String","required","lastname","module","exports","model"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\model\\","sources":["Employee.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst employeeSchema = new Schema({\r\n    firstname: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    lastname: {\r\n        type: String,\r\n        required: true\r\n    }\r\n});\r\n\r\nmodule.exports = mongoose.model('Employee', employeeSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAM;AAE9B,MAAMC,cAAc,GAAG,IAAID,MAAM,CAAC;EAC9BE,SAAS,EAAE;IACPC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACd,CAAC;EACDC,QAAQ,EAAE;IACNH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACd;AACJ,CAAC,CAAC;AAEFE,MAAM,CAACC,OAAO,GAAGV,QAAQ,CAACW,KAAK,CAAC,UAAU,EAAER,cAAc,CAAC"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\empleado.route.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst empleadoCtrl = require('../controllers/empleado.controller');\nconst authJwt = require('../controllers/empleado.controller');\nconst {\n  body,\n  validationResult\n} = require('express-validator');\nrouter.post('/', body('cedula').isString().withMessage(\"Cedula no valida\"), [empleadoCtrl.createEmpleado]);\nrouter.get('/', empleadoCtrl.getEmpleados);\nrouter.delete('/:empleadoId', empleadoCtrl.deleteEmpleadoById);\nrouter.put('/:empleadoId', empleadoCtrl.updateEmpleadoById);\n\n//router.post('/',[authJwt.verifyToken, authJwt.isModerator ], productsCtrl.createProduct)\n\n// router.get('/:productId', productsCtrl.getProductById)\n\n// router.put('/:productId', [authJwt.verifyToken, authJwt.isAdmin ] ,productsCtrl.updateProductById)\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImVtcGxlYWRvQ3RybCIsImF1dGhKd3QiLCJib2R5IiwidmFsaWRhdGlvblJlc3VsdCIsInBvc3QiLCJpc1N0cmluZyIsIndpdGhNZXNzYWdlIiwiY3JlYXRlRW1wbGVhZG8iLCJnZXQiLCJnZXRFbXBsZWFkb3MiLCJkZWxldGUiLCJkZWxldGVFbXBsZWFkb0J5SWQiLCJwdXQiLCJ1cGRhdGVFbXBsZWFkb0J5SWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbImVtcGxlYWRvLnJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbmNvbnN0IGVtcGxlYWRvQ3RybCA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL2VtcGxlYWRvLmNvbnRyb2xsZXInKTtcclxuY29uc3QgYXV0aEp3dCA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL2VtcGxlYWRvLmNvbnRyb2xsZXInKTtcclxuY29uc3QgeyBib2R5LCB2YWxpZGF0aW9uUmVzdWx0IH0gPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxucm91dGVyLnBvc3QoJy8nLFxyXG4gICAgYm9keSgnY2VkdWxhJykuaXNTdHJpbmcoKS53aXRoTWVzc2FnZShcIkNlZHVsYSBubyB2YWxpZGFcIiksXHJcbiAgICBbZW1wbGVhZG9DdHJsLmNyZWF0ZUVtcGxlYWRvXSlcclxuXHJcbnJvdXRlci5nZXQoJy8nLCBlbXBsZWFkb0N0cmwuZ2V0RW1wbGVhZG9zKVxyXG5cclxucm91dGVyLmRlbGV0ZSgnLzplbXBsZWFkb0lkJywgZW1wbGVhZG9DdHJsLmRlbGV0ZUVtcGxlYWRvQnlJZClcclxuXHJcbnJvdXRlci5wdXQoJy86ZW1wbGVhZG9JZCcsIGVtcGxlYWRvQ3RybC51cGRhdGVFbXBsZWFkb0J5SWQpXHJcblxyXG4vL3JvdXRlci5wb3N0KCcvJyxbYXV0aEp3dC52ZXJpZnlUb2tlbiwgYXV0aEp3dC5pc01vZGVyYXRvciBdLCBwcm9kdWN0c0N0cmwuY3JlYXRlUHJvZHVjdClcclxuXHJcblxyXG4vLyByb3V0ZXIuZ2V0KCcvOnByb2R1Y3RJZCcsIHByb2R1Y3RzQ3RybC5nZXRQcm9kdWN0QnlJZClcclxuXHJcbi8vIHJvdXRlci5wdXQoJy86cHJvZHVjdElkJywgW2F1dGhKd3QudmVyaWZ5VG9rZW4sIGF1dGhKd3QuaXNBZG1pbiBdICxwcm9kdWN0c0N0cmwudXBkYXRlUHJvZHVjdEJ5SWQpXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sRUFBRTtBQUMvQixNQUFNQyxZQUFZLEdBQUdILE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQztBQUNsRSxNQUFNSSxPQUFPLEdBQUdKLE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQztBQUM3RCxNQUFNO0VBQUVLLElBQUk7RUFBRUM7QUFBaUIsQ0FBQyxHQUFHTixPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFRL0RDLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLEdBQUcsRUFDWEYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDRyxRQUFRLEVBQUUsQ0FBQ0MsV0FBVyxDQUFDLGtCQUFrQixDQUFDLEVBQ3pELENBQUNOLFlBQVksQ0FBQ08sY0FBYyxDQUFDLENBQUM7QUFFbENULE1BQU0sQ0FBQ1UsR0FBRyxDQUFDLEdBQUcsRUFBRVIsWUFBWSxDQUFDUyxZQUFZLENBQUM7QUFFMUNYLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDLGNBQWMsRUFBRVYsWUFBWSxDQUFDVyxrQkFBa0IsQ0FBQztBQUU5RGIsTUFBTSxDQUFDYyxHQUFHLENBQUMsY0FBYyxFQUFFWixZQUFZLENBQUNhLGtCQUFrQixDQUFDOztBQUUzRDs7QUFHQTs7QUFFQTs7QUFHQUMsTUFBTSxDQUFDQyxPQUFPLEdBQUdqQixNQUFNIn0=","map":{"version":3,"names":["express","require","router","Router","empleadoCtrl","authJwt","body","validationResult","post","isString","withMessage","createEmpleado","get","getEmpleados","delete","deleteEmpleadoById","put","updateEmpleadoById","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\routes\\","sources":["empleado.route.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst empleadoCtrl = require('../controllers/empleado.controller');\r\nconst authJwt = require('../controllers/empleado.controller');\r\nconst { body, validationResult } = require('express-validator');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nrouter.post('/',\r\n    body('cedula').isString().withMessage(\"Cedula no valida\"),\r\n    [empleadoCtrl.createEmpleado])\r\n\r\nrouter.get('/', empleadoCtrl.getEmpleados)\r\n\r\nrouter.delete('/:empleadoId', empleadoCtrl.deleteEmpleadoById)\r\n\r\nrouter.put('/:empleadoId', empleadoCtrl.updateEmpleadoById)\r\n\r\n//router.post('/',[authJwt.verifyToken, authJwt.isModerator ], productsCtrl.createProduct)\r\n\r\n\r\n// router.get('/:productId', productsCtrl.getProductById)\r\n\r\n// router.put('/:productId', [authJwt.verifyToken, authJwt.isAdmin ] ,productsCtrl.updateProductById)\r\n\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC/B,MAAMC,YAAY,GAAGH,OAAO,CAAC,oCAAoC,CAAC;AAClE,MAAMI,OAAO,GAAGJ,OAAO,CAAC,oCAAoC,CAAC;AAC7D,MAAM;EAAEK,IAAI;EAAEC;AAAiB,CAAC,GAAGN,OAAO,CAAC,mBAAmB,CAAC;AAQ/DC,MAAM,CAACM,IAAI,CAAC,GAAG,EACXF,IAAI,CAAC,QAAQ,CAAC,CAACG,QAAQ,EAAE,CAACC,WAAW,CAAC,kBAAkB,CAAC,EACzD,CAACN,YAAY,CAACO,cAAc,CAAC,CAAC;AAElCT,MAAM,CAACU,GAAG,CAAC,GAAG,EAAER,YAAY,CAACS,YAAY,CAAC;AAE1CX,MAAM,CAACY,MAAM,CAAC,cAAc,EAAEV,YAAY,CAACW,kBAAkB,CAAC;AAE9Db,MAAM,CAACc,GAAG,CAAC,cAAc,EAAEZ,YAAY,CAACa,kBAAkB,CAAC;;AAE3D;;AAGA;;AAEA;;AAGAC,MAAM,CAACC,OAAO,GAAGjB,MAAM"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\empleado.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const Empleado = require('../model/Empleado');\nconst {\n  validationResult\n} = require('express-validator');\nconst createEmpleado = async (req, res) => {\n  const {\n    id,\n    nombre,\n    cedula,\n    puesto,\n    fechaIngreso,\n    rebajoCcss,\n    rebajoPension,\n    otrosRebajos,\n    salarioBruto,\n    salarioNeto,\n    FechaActualizacion\n  } = req.body;\n  const errors = validationResult(req);\n  if (!errors.isEmpty()) {\n    return res.status(400).json({\n      errors: errors.array()\n    });\n  }\n  const newEmpleado = new Empleado({\n    id,\n    nombre,\n    cedula,\n    puesto,\n    fechaIngreso,\n    rebajoCcss,\n    rebajoPension,\n    otrosRebajos,\n    salarioBruto,\n    salarioNeto,\n    FechaActualizacion\n  });\n  const empleadoSaved = await newEmpleado.save();\n  res.status(201).json(empleadoSaved);\n};\nconst getEmpleados = async (req, res) => {\n  const empleados = await Empleado.find();\n  res.json(empleados);\n};\nconst updateEmpleadoById = async (req, res) => {\n  const updatedEmpleado = await Empleado.findByIdAndUpdate(req.params.empleadoId, req.body, {\n    new: true\n  });\n  res.status(200).json(updatedEmpleado);\n};\nconst deleteEmpleadoById = async (req, res) => {\n  const {\n    empleadoId\n  } = req.params;\n  console.log(\"id\", empleadoId);\n  await Empleado.findByIdAndDelete(empleadoId);\n  res.status(204).json();\n};\nmodule.exports = {\n  createEmpleado,\n  getEmpleados,\n  updateEmpleadoById,\n  deleteEmpleadoById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFbXBsZWFkbyIsInJlcXVpcmUiLCJ2YWxpZGF0aW9uUmVzdWx0IiwiY3JlYXRlRW1wbGVhZG8iLCJyZXEiLCJyZXMiLCJpZCIsIm5vbWJyZSIsImNlZHVsYSIsInB1ZXN0byIsImZlY2hhSW5ncmVzbyIsInJlYmFqb0Njc3MiLCJyZWJham9QZW5zaW9uIiwib3Ryb3NSZWJham9zIiwic2FsYXJpb0JydXRvIiwic2FsYXJpb05ldG8iLCJGZWNoYUFjdHVhbGl6YWNpb24iLCJib2R5IiwiZXJyb3JzIiwiaXNFbXB0eSIsInN0YXR1cyIsImpzb24iLCJhcnJheSIsIm5ld0VtcGxlYWRvIiwiZW1wbGVhZG9TYXZlZCIsInNhdmUiLCJnZXRFbXBsZWFkb3MiLCJlbXBsZWFkb3MiLCJmaW5kIiwidXBkYXRlRW1wbGVhZG9CeUlkIiwidXBkYXRlZEVtcGxlYWRvIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJwYXJhbXMiLCJlbXBsZWFkb0lkIiwibmV3IiwiZGVsZXRlRW1wbGVhZG9CeUlkIiwiY29uc29sZSIsImxvZyIsImZpbmRCeUlkQW5kRGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx3aWxsaVxcRG9jdW1lbnRzXFxHaXRIdWJcXFByb3llY3RvUmVhY3RVbml2ZXJzaWRhZFxcU2VydmVyXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImVtcGxlYWRvLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRW1wbGVhZG8gPSByZXF1aXJlKCcuLi9tb2RlbC9FbXBsZWFkbycpO1xyXG5jb25zdCB7dmFsaWRhdGlvblJlc3VsdH0gPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IGNyZWF0ZUVtcGxlYWRvID0gYXN5bmMocmVxLCByZXMpID0+IHtcclxuICAgICBcclxuICAgIGNvbnN0IHtpZCwgbm9tYnJlLCBjZWR1bGEsIHB1ZXN0byxmZWNoYUluZ3Jlc28scmViYWpvQ2NzcyxyZWJham9QZW5zaW9uLG90cm9zUmViYWpvcyxzYWxhcmlvQnJ1dG8sc2FsYXJpb05ldG8sRmVjaGFBY3R1YWxpemFjaW9ufSA9IHJlcS5ib2R5XHJcblxyXG5cclxuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcclxuICAgIGlmICghZXJyb3JzLmlzRW1wdHkoKSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yczogZXJyb3JzLmFycmF5KCkgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnN0IG5ld0VtcGxlYWRvID0gbmV3IEVtcGxlYWRvKHtpZCwgbm9tYnJlLCBjZWR1bGEsIHB1ZXN0byxmZWNoYUluZ3Jlc28scmViYWpvQ2NzcyxyZWJham9QZW5zaW9uLG90cm9zUmViYWpvcyxzYWxhcmlvQnJ1dG8sc2FsYXJpb05ldG8sRmVjaGFBY3R1YWxpemFjaW9ufSlcclxuXHJcbiAgICBjb25zdCBlbXBsZWFkb1NhdmVkID0gYXdhaXQgbmV3RW1wbGVhZG8uc2F2ZSgpXHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oZW1wbGVhZG9TYXZlZClcclxuXHJcbn1cclxuXHJcbmNvbnN0IGdldEVtcGxlYWRvcyA9IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBlbXBsZWFkb3MgPSBhd2FpdCBFbXBsZWFkby5maW5kKClcclxuICAgIHJlcy5qc29uKGVtcGxlYWRvcylcclxufVxyXG5cclxuY29uc3QgdXBkYXRlRW1wbGVhZG9CeUlkID0gYXN5bmMocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHVwZGF0ZWRFbXBsZWFkbyA9IGF3YWl0IEVtcGxlYWRvLmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5wYXJhbXMuZW1wbGVhZG9JZCwgcmVxLmJvZHksIHtcclxuICAgICAgICBuZXc6IHRydWVcclxuICAgIH0pXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1cGRhdGVkRW1wbGVhZG8pXHJcbiAgICBcclxufVxyXG5cclxuY29uc3QgZGVsZXRlRW1wbGVhZG9CeUlkID0gYXN5bmMocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtlbXBsZWFkb0lkfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zb2xlLmxvZyhcImlkXCIsZW1wbGVhZG9JZClcclxuICAgIGF3YWl0IEVtcGxlYWRvLmZpbmRCeUlkQW5kRGVsZXRlKGVtcGxlYWRvSWQpXHJcbiAgICByZXMuc3RhdHVzKDIwNCkuanNvbigpXHJcbiAgICBcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjcmVhdGVFbXBsZWFkbyxcclxuICAgIGdldEVtcGxlYWRvcyxcclxuICAgIHVwZGF0ZUVtcGxlYWRvQnlJZCxcclxuICAgIGRlbGV0ZUVtcGxlYWRvQnlJZFxyXG59Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUM3QyxNQUFNO0VBQUNDO0FBQWdCLENBQUMsR0FBR0QsT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBTXZELE1BQU1FLGNBQWMsR0FBRyxPQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUV0QyxNQUFNO0lBQUNDLEVBQUU7SUFBRUMsTUFBTTtJQUFFQyxNQUFNO0lBQUVDLE1BQU07SUFBQ0MsWUFBWTtJQUFDQyxVQUFVO0lBQUNDLGFBQWE7SUFBQ0MsWUFBWTtJQUFDQyxZQUFZO0lBQUNDLFdBQVc7SUFBQ0M7RUFBa0IsQ0FBQyxHQUFHWixHQUFHLENBQUNhLElBQUk7RUFHNUksTUFBTUMsTUFBTSxHQUFHaEIsZ0JBQWdCLENBQUNFLEdBQUcsQ0FBQztFQUNwQyxJQUFJLENBQUNjLE1BQU0sQ0FBQ0MsT0FBTyxFQUFFLEVBQUU7SUFDbkIsT0FBT2QsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFSCxNQUFNLEVBQUVBLE1BQU0sQ0FBQ0ksS0FBSztJQUFHLENBQUMsQ0FBQztFQUMzRDtFQUdBLE1BQU1DLFdBQVcsR0FBRyxJQUFJdkIsUUFBUSxDQUFDO0lBQUNNLEVBQUU7SUFBRUMsTUFBTTtJQUFFQyxNQUFNO0lBQUVDLE1BQU07SUFBQ0MsWUFBWTtJQUFDQyxVQUFVO0lBQUNDLGFBQWE7SUFBQ0MsWUFBWTtJQUFDQyxZQUFZO0lBQUNDLFdBQVc7SUFBQ0M7RUFBa0IsQ0FBQyxDQUFDO0VBRTdKLE1BQU1RLGFBQWEsR0FBRyxNQUFNRCxXQUFXLENBQUNFLElBQUksRUFBRTtFQUU5Q3BCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNHLGFBQWEsQ0FBQztBQUV2QyxDQUFDO0FBRUQsTUFBTUUsWUFBWSxHQUFHLE9BQU10QixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNwQyxNQUFNc0IsU0FBUyxHQUFHLE1BQU0zQixRQUFRLENBQUM0QixJQUFJLEVBQUU7RUFDdkN2QixHQUFHLENBQUNnQixJQUFJLENBQUNNLFNBQVMsQ0FBQztBQUN2QixDQUFDO0FBRUQsTUFBTUUsa0JBQWtCLEdBQUcsT0FBTXpCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzFDLE1BQU15QixlQUFlLEdBQUcsTUFBTTlCLFFBQVEsQ0FBQytCLGlCQUFpQixDQUFDM0IsR0FBRyxDQUFDNEIsTUFBTSxDQUFDQyxVQUFVLEVBQUU3QixHQUFHLENBQUNhLElBQUksRUFBRTtJQUN0RmlCLEdBQUcsRUFBRTtFQUNULENBQUMsQ0FBQztFQUNGN0IsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ1MsZUFBZSxDQUFDO0FBRXpDLENBQUM7QUFFRCxNQUFNSyxrQkFBa0IsR0FBRyxPQUFNL0IsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDMUMsTUFBTTtJQUFDNEI7RUFBVSxDQUFDLEdBQUc3QixHQUFHLENBQUM0QixNQUFNO0VBQy9CSSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxJQUFJLEVBQUNKLFVBQVUsQ0FBQztFQUM1QixNQUFNakMsUUFBUSxDQUFDc0MsaUJBQWlCLENBQUNMLFVBQVUsQ0FBQztFQUM1QzVCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLEVBQUU7QUFFMUIsQ0FBQztBQUVEa0IsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDYnJDLGNBQWM7RUFDZHVCLFlBQVk7RUFDWkcsa0JBQWtCO0VBQ2xCTTtBQUNKLENBQUMifQ==","map":{"version":3,"names":["Empleado","require","validationResult","createEmpleado","req","res","id","nombre","cedula","puesto","fechaIngreso","rebajoCcss","rebajoPension","otrosRebajos","salarioBruto","salarioNeto","FechaActualizacion","body","errors","isEmpty","status","json","array","newEmpleado","empleadoSaved","save","getEmpleados","empleados","find","updateEmpleadoById","updatedEmpleado","findByIdAndUpdate","params","empleadoId","new","deleteEmpleadoById","console","log","findByIdAndDelete","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\controllers\\","sources":["empleado.controller.js"],"sourcesContent":["const Empleado = require('../model/Empleado');\r\nconst {validationResult} = require('express-validator');\r\n\r\n\r\n\r\n\r\n\r\nconst createEmpleado = async(req, res) => {\r\n     \r\n    const {id, nombre, cedula, puesto,fechaIngreso,rebajoCcss,rebajoPension,otrosRebajos,salarioBruto,salarioNeto,FechaActualizacion} = req.body\r\n\r\n\r\n    const errors = validationResult(req);\r\n    if (!errors.isEmpty()) {\r\n        return res.status(400).json({ errors: errors.array() });\r\n    }\r\n\r\n\r\n    const newEmpleado = new Empleado({id, nombre, cedula, puesto,fechaIngreso,rebajoCcss,rebajoPension,otrosRebajos,salarioBruto,salarioNeto,FechaActualizacion})\r\n\r\n    const empleadoSaved = await newEmpleado.save()\r\n\r\n    res.status(201).json(empleadoSaved)\r\n\r\n}\r\n\r\nconst getEmpleados = async(req, res) => {\r\n    const empleados = await Empleado.find()\r\n    res.json(empleados)\r\n}\r\n\r\nconst updateEmpleadoById = async(req, res) => {\r\n    const updatedEmpleado = await Empleado.findByIdAndUpdate(req.params.empleadoId, req.body, {\r\n        new: true\r\n    })\r\n    res.status(200).json(updatedEmpleado)\r\n    \r\n}\r\n\r\nconst deleteEmpleadoById = async(req, res) => {\r\n    const {empleadoId} = req.params;\r\n    console.log(\"id\",empleadoId)\r\n    await Empleado.findByIdAndDelete(empleadoId)\r\n    res.status(204).json()\r\n    \r\n}\r\n\r\nmodule.exports = {\r\n    createEmpleado,\r\n    getEmpleados,\r\n    updateEmpleadoById,\r\n    deleteEmpleadoById\r\n}"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AAC7C,MAAM;EAACC;AAAgB,CAAC,GAAGD,OAAO,CAAC,mBAAmB,CAAC;AAMvD,MAAME,cAAc,GAAG,OAAMC,GAAG,EAAEC,GAAG,KAAK;EAEtC,MAAM;IAACC,EAAE;IAAEC,MAAM;IAAEC,MAAM;IAAEC,MAAM;IAACC,YAAY;IAACC,UAAU;IAACC,aAAa;IAACC,YAAY;IAACC,YAAY;IAACC,WAAW;IAACC;EAAkB,CAAC,GAAGZ,GAAG,CAACa,IAAI;EAG5I,MAAMC,MAAM,GAAGhB,gBAAgB,CAACE,GAAG,CAAC;EACpC,IAAI,CAACc,MAAM,CAACC,OAAO,EAAE,EAAE;IACnB,OAAOd,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEH,MAAM,EAAEA,MAAM,CAACI,KAAK;IAAG,CAAC,CAAC;EAC3D;EAGA,MAAMC,WAAW,GAAG,IAAIvB,QAAQ,CAAC;IAACM,EAAE;IAAEC,MAAM;IAAEC,MAAM;IAAEC,MAAM;IAACC,YAAY;IAACC,UAAU;IAACC,aAAa;IAACC,YAAY;IAACC,YAAY;IAACC,WAAW;IAACC;EAAkB,CAAC,CAAC;EAE7J,MAAMQ,aAAa,GAAG,MAAMD,WAAW,CAACE,IAAI,EAAE;EAE9CpB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACG,aAAa,CAAC;AAEvC,CAAC;AAED,MAAME,YAAY,GAAG,OAAMtB,GAAG,EAAEC,GAAG,KAAK;EACpC,MAAMsB,SAAS,GAAG,MAAM3B,QAAQ,CAAC4B,IAAI,EAAE;EACvCvB,GAAG,CAACgB,IAAI,CAACM,SAAS,CAAC;AACvB,CAAC;AAED,MAAME,kBAAkB,GAAG,OAAMzB,GAAG,EAAEC,GAAG,KAAK;EAC1C,MAAMyB,eAAe,GAAG,MAAM9B,QAAQ,CAAC+B,iBAAiB,CAAC3B,GAAG,CAAC4B,MAAM,CAACC,UAAU,EAAE7B,GAAG,CAACa,IAAI,EAAE;IACtFiB,GAAG,EAAE;EACT,CAAC,CAAC;EACF7B,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACS,eAAe,CAAC;AAEzC,CAAC;AAED,MAAMK,kBAAkB,GAAG,OAAM/B,GAAG,EAAEC,GAAG,KAAK;EAC1C,MAAM;IAAC4B;EAAU,CAAC,GAAG7B,GAAG,CAAC4B,MAAM;EAC/BI,OAAO,CAACC,GAAG,CAAC,IAAI,EAACJ,UAAU,CAAC;EAC5B,MAAMjC,QAAQ,CAACsC,iBAAiB,CAACL,UAAU,CAAC;EAC5C5B,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,EAAE;AAE1B,CAAC;AAEDkB,MAAM,CAACC,OAAO,GAAG;EACbrC,cAAc;EACduB,YAAY;EACZG,kBAAkB;EAClBM;AACJ,CAAC"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\Empleado.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst EmpleadoSchema = new Schema({\n  id: String,\n  nombre: String,\n  cedula: String,\n  puesto: String,\n  fechaIngreso: String,\n  rebajoCcss: Number,\n  rebajoPension: Number,\n  otrosRebajos: Number,\n  salarioBruto: Number,\n  salarioNeto: Number,\n  FechaActualizacion: String\n}, {\n  timestamps: true,\n  versionKey: false\n});\nmodule.exports = mongoose.model('Empleado', EmpleadoSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJFbXBsZWFkb1NjaGVtYSIsImlkIiwiU3RyaW5nIiwibm9tYnJlIiwiY2VkdWxhIiwicHVlc3RvIiwiZmVjaGFJbmdyZXNvIiwicmViYWpvQ2NzcyIsIk51bWJlciIsInJlYmFqb1BlbnNpb24iLCJvdHJvc1JlYmFqb3MiLCJzYWxhcmlvQnJ1dG8iLCJzYWxhcmlvTmV0byIsIkZlY2hhQWN0dWFsaXphY2lvbiIsInRpbWVzdGFtcHMiLCJ2ZXJzaW9uS2V5IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xcbW9kZWxcXCIsInNvdXJjZXMiOlsiRW1wbGVhZG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBFbXBsZWFkb1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgaWQ6IFN0cmluZyxcclxuICAgIG5vbWJyZTogU3RyaW5nLFxyXG4gICAgY2VkdWxhOiBTdHJpbmcsXHJcbiAgICBwdWVzdG86IFN0cmluZyxcclxuICAgIGZlY2hhSW5ncmVzbzogU3RyaW5nLFxyXG4gICAgcmViYWpvQ2NzczogTnVtYmVyLFxyXG4gICAgcmViYWpvUGVuc2lvbjpOdW1iZXIsXHJcbiAgICBvdHJvc1JlYmFqb3M6TnVtYmVyLFxyXG4gICAgc2FsYXJpb0JydXRvOk51bWJlcixcclxuICAgIHNhbGFyaW9OZXRvOk51bWJlcixcclxuICAgIEZlY2hhQWN0dWFsaXphY2lvbjogU3RyaW5nXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICAgIHZlcnNpb25LZXk6IGZhbHNlXHJcbn0pXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdFbXBsZWFkbycsIEVtcGxlYWRvU2NoZW1hKTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQ0UsTUFBTTtBQUU5QixNQUFNQyxjQUFjLEdBQUcsSUFBSUQsTUFBTSxDQUFDO0VBQzlCRSxFQUFFLEVBQUVDLE1BQU07RUFDVkMsTUFBTSxFQUFFRCxNQUFNO0VBQ2RFLE1BQU0sRUFBRUYsTUFBTTtFQUNkRyxNQUFNLEVBQUVILE1BQU07RUFDZEksWUFBWSxFQUFFSixNQUFNO0VBQ3BCSyxVQUFVLEVBQUVDLE1BQU07RUFDbEJDLGFBQWEsRUFBQ0QsTUFBTTtFQUNwQkUsWUFBWSxFQUFDRixNQUFNO0VBQ25CRyxZQUFZLEVBQUNILE1BQU07RUFDbkJJLFdBQVcsRUFBQ0osTUFBTTtFQUNsQkssa0JBQWtCLEVBQUVYO0FBQ3hCLENBQUMsRUFBQztFQUNFWSxVQUFVLEVBQUUsSUFBSTtFQUNoQkMsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGQyxNQUFNLENBQUNDLE9BQU8sR0FBR3BCLFFBQVEsQ0FBQ3FCLEtBQUssQ0FBQyxVQUFVLEVBQUVsQixjQUFjLENBQUMifQ==","map":{"version":3,"names":["mongoose","require","Schema","EmpleadoSchema","id","String","nombre","cedula","puesto","fechaIngreso","rebajoCcss","Number","rebajoPension","otrosRebajos","salarioBruto","salarioNeto","FechaActualizacion","timestamps","versionKey","module","exports","model"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\model\\","sources":["Empleado.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst EmpleadoSchema = new Schema({\r\n    id: String,\r\n    nombre: String,\r\n    cedula: String,\r\n    puesto: String,\r\n    fechaIngreso: String,\r\n    rebajoCcss: Number,\r\n    rebajoPension:Number,\r\n    otrosRebajos:Number,\r\n    salarioBruto:Number,\r\n    salarioNeto:Number,\r\n    FechaActualizacion: String\r\n},{\r\n    timestamps: true,\r\n    versionKey: false\r\n})\r\n\r\nmodule.exports = mongoose.model('Empleado', EmpleadoSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAM;AAE9B,MAAMC,cAAc,GAAG,IAAID,MAAM,CAAC;EAC9BE,EAAE,EAAEC,MAAM;EACVC,MAAM,EAAED,MAAM;EACdE,MAAM,EAAEF,MAAM;EACdG,MAAM,EAAEH,MAAM;EACdI,YAAY,EAAEJ,MAAM;EACpBK,UAAU,EAAEC,MAAM;EAClBC,aAAa,EAACD,MAAM;EACpBE,YAAY,EAACF,MAAM;EACnBG,YAAY,EAACH,MAAM;EACnBI,WAAW,EAACJ,MAAM;EAClBK,kBAAkB,EAAEX;AACxB,CAAC,EAAC;EACEY,UAAU,EAAE,IAAI;EAChBC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGpB,QAAQ,CAACqB,KAAK,CAAC,UAAU,EAAElB,cAAc,CAAC"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\gasto.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst gastoCtrl = require('../controllers/gastoController');\nconst authJwt = require('../controllers/gastoController');\nconst {\n  body,\n  validationResult\n} = require('express-validator');\nrouter.post('/', gastoCtrl.createGasto);\nrouter.get('/', gastoCtrl.getGastos);\nrouter.delete('/:gastoId', gastoCtrl.deleteGastoById);\nrouter.put('/:gastoId', gastoCtrl.updateGastoById);\n\n//router.post('/',[authJwt.verifyToken, authJwt.isModerator ], productsCtrl.createProduct)\n\n// router.get('/:productId', productsCtrl.getProductById)\n\n// router.put('/:productId', [authJwt.verifyToken, authJwt.isAdmin ] ,productsCtrl.updateProductById)\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImdhc3RvQ3RybCIsImF1dGhKd3QiLCJib2R5IiwidmFsaWRhdGlvblJlc3VsdCIsInBvc3QiLCJjcmVhdGVHYXN0byIsImdldCIsImdldEdhc3RvcyIsImRlbGV0ZSIsImRlbGV0ZUdhc3RvQnlJZCIsInB1dCIsInVwZGF0ZUdhc3RvQnlJZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiZ2FzdG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgZ2FzdG9DdHJsID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvZ2FzdG9Db250cm9sbGVyJyk7XHJcbmNvbnN0IGF1dGhKd3QgPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9nYXN0b0NvbnRyb2xsZXInKTtcclxuY29uc3QgeyBib2R5LCB2YWxpZGF0aW9uUmVzdWx0IH0gPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpO1xyXG5cclxuXHJcblxyXG5cclxucm91dGVyLnBvc3QoJy8nICxnYXN0b0N0cmwuY3JlYXRlR2FzdG8pXHJcblxyXG5yb3V0ZXIuZ2V0KCcvJywgZ2FzdG9DdHJsLmdldEdhc3RvcylcclxuXHJcbnJvdXRlci5kZWxldGUoJy86Z2FzdG9JZCcsIGdhc3RvQ3RybC5kZWxldGVHYXN0b0J5SWQpXHJcblxyXG5yb3V0ZXIucHV0KCcvOmdhc3RvSWQnICwgZ2FzdG9DdHJsLnVwZGF0ZUdhc3RvQnlJZClcclxuXHJcbi8vcm91dGVyLnBvc3QoJy8nLFthdXRoSnd0LnZlcmlmeVRva2VuLCBhdXRoSnd0LmlzTW9kZXJhdG9yIF0sIHByb2R1Y3RzQ3RybC5jcmVhdGVQcm9kdWN0KVxyXG5cclxuXHJcbi8vIHJvdXRlci5nZXQoJy86cHJvZHVjdElkJywgcHJvZHVjdHNDdHJsLmdldFByb2R1Y3RCeUlkKVxyXG5cclxuLy8gcm91dGVyLnB1dCgnLzpwcm9kdWN0SWQnLCBbYXV0aEp3dC52ZXJpZnlUb2tlbiwgYXV0aEp3dC5pc0FkbWluIF0gLHByb2R1Y3RzQ3RybC51cGRhdGVQcm9kdWN0QnlJZClcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEVBQUU7QUFDL0IsTUFBTUMsU0FBUyxHQUFHSCxPQUFPLENBQUMsZ0NBQWdDLENBQUM7QUFDM0QsTUFBTUksT0FBTyxHQUFHSixPQUFPLENBQUMsZ0NBQWdDLENBQUM7QUFDekQsTUFBTTtFQUFFSyxJQUFJO0VBQUVDO0FBQWlCLENBQUMsR0FBR04sT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBSy9EQyxNQUFNLENBQUNNLElBQUksQ0FBQyxHQUFHLEVBQUVKLFNBQVMsQ0FBQ0ssV0FBVyxDQUFDO0FBRXZDUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxHQUFHLEVBQUVOLFNBQVMsQ0FBQ08sU0FBUyxDQUFDO0FBRXBDVCxNQUFNLENBQUNVLE1BQU0sQ0FBQyxXQUFXLEVBQUVSLFNBQVMsQ0FBQ1MsZUFBZSxDQUFDO0FBRXJEWCxNQUFNLENBQUNZLEdBQUcsQ0FBQyxXQUFXLEVBQUdWLFNBQVMsQ0FBQ1csZUFBZSxDQUFDOztBQUVuRDs7QUFHQTs7QUFFQTs7QUFFQUMsTUFBTSxDQUFDQyxPQUFPLEdBQUdmLE1BQU0ifQ==","map":{"version":3,"names":["express","require","router","Router","gastoCtrl","authJwt","body","validationResult","post","createGasto","get","getGastos","delete","deleteGastoById","put","updateGastoById","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\routes\\","sources":["gasto.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst gastoCtrl = require('../controllers/gastoController');\r\nconst authJwt = require('../controllers/gastoController');\r\nconst { body, validationResult } = require('express-validator');\r\n\r\n\r\n\r\n\r\nrouter.post('/' ,gastoCtrl.createGasto)\r\n\r\nrouter.get('/', gastoCtrl.getGastos)\r\n\r\nrouter.delete('/:gastoId', gastoCtrl.deleteGastoById)\r\n\r\nrouter.put('/:gastoId' , gastoCtrl.updateGastoById)\r\n\r\n//router.post('/',[authJwt.verifyToken, authJwt.isModerator ], productsCtrl.createProduct)\r\n\r\n\r\n// router.get('/:productId', productsCtrl.getProductById)\r\n\r\n// router.put('/:productId', [authJwt.verifyToken, authJwt.isAdmin ] ,productsCtrl.updateProductById)\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC/B,MAAMC,SAAS,GAAGH,OAAO,CAAC,gCAAgC,CAAC;AAC3D,MAAMI,OAAO,GAAGJ,OAAO,CAAC,gCAAgC,CAAC;AACzD,MAAM;EAAEK,IAAI;EAAEC;AAAiB,CAAC,GAAGN,OAAO,CAAC,mBAAmB,CAAC;AAK/DC,MAAM,CAACM,IAAI,CAAC,GAAG,EAAEJ,SAAS,CAACK,WAAW,CAAC;AAEvCP,MAAM,CAACQ,GAAG,CAAC,GAAG,EAAEN,SAAS,CAACO,SAAS,CAAC;AAEpCT,MAAM,CAACU,MAAM,CAAC,WAAW,EAAER,SAAS,CAACS,eAAe,CAAC;AAErDX,MAAM,CAACY,GAAG,CAAC,WAAW,EAAGV,SAAS,CAACW,eAAe,CAAC;;AAEnD;;AAGA;;AAEA;;AAEAC,MAAM,CAACC,OAAO,GAAGf,MAAM"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\gastoController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const Gasto = require('../model/Gasto');\nconst createGasto = async (req, res) => {\n  const {\n    id,\n    proyectoGasto,\n    descripcion,\n    categoria,\n    fechaGasto,\n    monto,\n    cantidad\n  } = req.body;\n  const newGasto = new Gasto({\n    id,\n    proyectoGasto,\n    descripcion,\n    categoria,\n    fechaGasto,\n    monto,\n    cantidad\n  });\n  const gastoSaved = await newGasto.save();\n  res.status(201).json(gastoSaved);\n};\nconst getGastos = async (req, res) => {\n  const gastos = await Gasto.find();\n  res.json(gastos);\n};\nconst updateGastoById = async (req, res) => {\n  const updatedGasto = await Gasto.findByIdAndUpdate(req.params.gastoId, req.body, {\n    new: true\n  });\n  res.status(200).json(updatedGasto);\n};\nconst deleteGastoById = async (req, res) => {\n  const {\n    gastoId\n  } = req.params;\n  console.log(\"gasto\" + gastoId);\n  await Gasto.findByIdAndDelete(gastoId);\n  res.status(204).json();\n};\nmodule.exports = {\n  createGasto,\n  getGastos,\n  updateGastoById,\n  deleteGastoById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHYXN0byIsInJlcXVpcmUiLCJjcmVhdGVHYXN0byIsInJlcSIsInJlcyIsImlkIiwicHJveWVjdG9HYXN0byIsImRlc2NyaXBjaW9uIiwiY2F0ZWdvcmlhIiwiZmVjaGFHYXN0byIsIm1vbnRvIiwiY2FudGlkYWQiLCJib2R5IiwibmV3R2FzdG8iLCJnYXN0b1NhdmVkIiwic2F2ZSIsInN0YXR1cyIsImpzb24iLCJnZXRHYXN0b3MiLCJnYXN0b3MiLCJmaW5kIiwidXBkYXRlR2FzdG9CeUlkIiwidXBkYXRlZEdhc3RvIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJwYXJhbXMiLCJnYXN0b0lkIiwibmV3IiwiZGVsZXRlR2FzdG9CeUlkIiwiY29uc29sZSIsImxvZyIsImZpbmRCeUlkQW5kRGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFx3aWxsaVxcRG9jdW1lbnRzXFxHaXRIdWJcXFByb3llY3RvUmVhY3RVbml2ZXJzaWRhZFxcU2VydmVyXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImdhc3RvQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBHYXN0byA9IHJlcXVpcmUoJy4uL21vZGVsL0dhc3RvJyk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgY3JlYXRlR2FzdG8gPSBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgIFxyXG4gICAgY29uc3Qge2lkLCBwcm95ZWN0b0dhc3RvLCBkZXNjcmlwY2lvbiwgY2F0ZWdvcmlhLGZlY2hhR2FzdG8sbW9udG8sY2FudGlkYWR9ID0gcmVxLmJvZHlcclxuXHJcbiAgICBjb25zdCBuZXdHYXN0byA9IG5ldyBHYXN0byh7aWQsIHByb3llY3RvR2FzdG8sIGRlc2NyaXBjaW9uLCBjYXRlZ29yaWEsZmVjaGFHYXN0byxtb250byxjYW50aWRhZH0pXHJcblxyXG4gICAgY29uc3QgZ2FzdG9TYXZlZCA9IGF3YWl0IG5ld0dhc3RvLnNhdmUoKVxyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKGdhc3RvU2F2ZWQpXHJcblxyXG59XHJcblxyXG4gY29uc3QgZ2V0R2FzdG9zID0gYXN5bmMocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGdhc3RvcyA9IGF3YWl0IEdhc3RvLmZpbmQoKVxyXG4gICAgcmVzLmpzb24oZ2FzdG9zKVxyXG59XHJcblxyXG4gY29uc3QgdXBkYXRlR2FzdG9CeUlkID0gYXN5bmMocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHVwZGF0ZWRHYXN0byA9IGF3YWl0IEdhc3RvLmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5wYXJhbXMuZ2FzdG9JZCwgcmVxLmJvZHksIHtcclxuICAgICAgICBuZXc6IHRydWVcclxuICAgIH0pXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1cGRhdGVkR2FzdG8pXHJcbiAgICBcclxufVxyXG5jb25zdCBkZWxldGVHYXN0b0J5SWQgPSBhc3luYyhyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qge2dhc3RvSWR9ID0gcmVxLnBhcmFtcztcclxuICAgIGNvbnNvbGUubG9nKFwiZ2FzdG9cIiArIGdhc3RvSWQpXHJcbiAgICBhd2FpdCBHYXN0by5maW5kQnlJZEFuZERlbGV0ZShnYXN0b0lkKVxyXG4gICAgcmVzLnN0YXR1cygyMDQpLmpzb24oKVxyXG4gICAgXHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGNyZWF0ZUdhc3RvLFxyXG4gICAgZ2V0R2FzdG9zLFxyXG4gICAgdXBkYXRlR2FzdG9CeUlkLFxyXG4gICAgZGVsZXRlR2FzdG9CeUlkXHJcbn0iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBTXZDLE1BQU1DLFdBQVcsR0FBRyxPQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVuQyxNQUFNO0lBQUNDLEVBQUU7SUFBRUMsYUFBYTtJQUFFQyxXQUFXO0lBQUVDLFNBQVM7SUFBQ0MsVUFBVTtJQUFDQyxLQUFLO0lBQUNDO0VBQVEsQ0FBQyxHQUFHUixHQUFHLENBQUNTLElBQUk7RUFFdEYsTUFBTUMsUUFBUSxHQUFHLElBQUliLEtBQUssQ0FBQztJQUFDSyxFQUFFO0lBQUVDLGFBQWE7SUFBRUMsV0FBVztJQUFFQyxTQUFTO0lBQUNDLFVBQVU7SUFBQ0MsS0FBSztJQUFDQztFQUFRLENBQUMsQ0FBQztFQUVqRyxNQUFNRyxVQUFVLEdBQUcsTUFBTUQsUUFBUSxDQUFDRSxJQUFJLEVBQUU7RUFFeENYLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNILFVBQVUsQ0FBQztBQUVwQyxDQUFDO0FBRUEsTUFBTUksU0FBUyxHQUFHLE9BQU1mLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2xDLE1BQU1lLE1BQU0sR0FBRyxNQUFNbkIsS0FBSyxDQUFDb0IsSUFBSSxFQUFFO0VBQ2pDaEIsR0FBRyxDQUFDYSxJQUFJLENBQUNFLE1BQU0sQ0FBQztBQUNwQixDQUFDO0FBRUEsTUFBTUUsZUFBZSxHQUFHLE9BQU1sQixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4QyxNQUFNa0IsWUFBWSxHQUFHLE1BQU10QixLQUFLLENBQUN1QixpQkFBaUIsQ0FBQ3BCLEdBQUcsQ0FBQ3FCLE1BQU0sQ0FBQ0MsT0FBTyxFQUFFdEIsR0FBRyxDQUFDUyxJQUFJLEVBQUU7SUFDN0VjLEdBQUcsRUFBRTtFQUNULENBQUMsQ0FBQztFQUNGdEIsR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0ssWUFBWSxDQUFDO0FBRXRDLENBQUM7QUFDRCxNQUFNSyxlQUFlLEdBQUcsT0FBTXhCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3ZDLE1BQU07SUFBQ3FCO0VBQU8sQ0FBQyxHQUFHdEIsR0FBRyxDQUFDcUIsTUFBTTtFQUM1QkksT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxHQUFHSixPQUFPLENBQUM7RUFDOUIsTUFBTXpCLEtBQUssQ0FBQzhCLGlCQUFpQixDQUFDTCxPQUFPLENBQUM7RUFDdENyQixHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxFQUFFO0FBRTFCLENBQUM7QUFHRGMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDYjlCLFdBQVc7RUFDWGdCLFNBQVM7RUFDVEcsZUFBZTtFQUNmTTtBQUNKLENBQUMifQ==","map":{"version":3,"names":["Gasto","require","createGasto","req","res","id","proyectoGasto","descripcion","categoria","fechaGasto","monto","cantidad","body","newGasto","gastoSaved","save","status","json","getGastos","gastos","find","updateGastoById","updatedGasto","findByIdAndUpdate","params","gastoId","new","deleteGastoById","console","log","findByIdAndDelete","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\controllers\\","sources":["gastoController.js"],"sourcesContent":["const Gasto = require('../model/Gasto');\r\n\r\n\r\n\r\n\r\n\r\nconst createGasto = async(req, res) => {\r\n     \r\n    const {id, proyectoGasto, descripcion, categoria,fechaGasto,monto,cantidad} = req.body\r\n\r\n    const newGasto = new Gasto({id, proyectoGasto, descripcion, categoria,fechaGasto,monto,cantidad})\r\n\r\n    const gastoSaved = await newGasto.save()\r\n\r\n    res.status(201).json(gastoSaved)\r\n\r\n}\r\n\r\n const getGastos = async(req, res) => {\r\n    const gastos = await Gasto.find()\r\n    res.json(gastos)\r\n}\r\n\r\n const updateGastoById = async(req, res) => {\r\n    const updatedGasto = await Gasto.findByIdAndUpdate(req.params.gastoId, req.body, {\r\n        new: true\r\n    })\r\n    res.status(200).json(updatedGasto)\r\n    \r\n}\r\nconst deleteGastoById = async(req, res) => {\r\n    const {gastoId} = req.params;\r\n    console.log(\"gasto\" + gastoId)\r\n    await Gasto.findByIdAndDelete(gastoId)\r\n    res.status(204).json()\r\n    \r\n}\r\n\r\n\r\nmodule.exports = {\r\n    createGasto,\r\n    getGastos,\r\n    updateGastoById,\r\n    deleteGastoById\r\n}"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAMvC,MAAMC,WAAW,GAAG,OAAMC,GAAG,EAAEC,GAAG,KAAK;EAEnC,MAAM;IAACC,EAAE;IAAEC,aAAa;IAAEC,WAAW;IAAEC,SAAS;IAACC,UAAU;IAACC,KAAK;IAACC;EAAQ,CAAC,GAAGR,GAAG,CAACS,IAAI;EAEtF,MAAMC,QAAQ,GAAG,IAAIb,KAAK,CAAC;IAACK,EAAE;IAAEC,aAAa;IAAEC,WAAW;IAAEC,SAAS;IAACC,UAAU;IAACC,KAAK;IAACC;EAAQ,CAAC,CAAC;EAEjG,MAAMG,UAAU,GAAG,MAAMD,QAAQ,CAACE,IAAI,EAAE;EAExCX,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,UAAU,CAAC;AAEpC,CAAC;AAEA,MAAMI,SAAS,GAAG,OAAMf,GAAG,EAAEC,GAAG,KAAK;EAClC,MAAMe,MAAM,GAAG,MAAMnB,KAAK,CAACoB,IAAI,EAAE;EACjChB,GAAG,CAACa,IAAI,CAACE,MAAM,CAAC;AACpB,CAAC;AAEA,MAAME,eAAe,GAAG,OAAMlB,GAAG,EAAEC,GAAG,KAAK;EACxC,MAAMkB,YAAY,GAAG,MAAMtB,KAAK,CAACuB,iBAAiB,CAACpB,GAAG,CAACqB,MAAM,CAACC,OAAO,EAAEtB,GAAG,CAACS,IAAI,EAAE;IAC7Ec,GAAG,EAAE;EACT,CAAC,CAAC;EACFtB,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACK,YAAY,CAAC;AAEtC,CAAC;AACD,MAAMK,eAAe,GAAG,OAAMxB,GAAG,EAAEC,GAAG,KAAK;EACvC,MAAM;IAACqB;EAAO,CAAC,GAAGtB,GAAG,CAACqB,MAAM;EAC5BI,OAAO,CAACC,GAAG,CAAC,OAAO,GAAGJ,OAAO,CAAC;EAC9B,MAAMzB,KAAK,CAAC8B,iBAAiB,CAACL,OAAO,CAAC;EACtCrB,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,EAAE;AAE1B,CAAC;AAGDc,MAAM,CAACC,OAAO,GAAG;EACb9B,WAAW;EACXgB,SAAS;EACTG,eAAe;EACfM;AACJ,CAAC"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\Gasto.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst GastoSchema = new Schema({\n  proyectoGasto: String,\n  descripcion: String,\n  categoria: String,\n  fechaGasto: String,\n  monto: Number,\n  cantidad: Number\n}, {\n  timestamps: true,\n  versionKey: false\n});\nmodule.exports = mongoose.model('Gasto', GastoSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJHYXN0b1NjaGVtYSIsInByb3llY3RvR2FzdG8iLCJTdHJpbmciLCJkZXNjcmlwY2lvbiIsImNhdGVnb3JpYSIsImZlY2hhR2FzdG8iLCJtb250byIsIk51bWJlciIsImNhbnRpZGFkIiwidGltZXN0YW1wcyIsInZlcnNpb25LZXkiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxtb2RlbFxcIiwic291cmNlcyI6WyJHYXN0by5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IEdhc3RvU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBcclxuICAgIHByb3llY3RvR2FzdG86IFN0cmluZyxcclxuICAgIGRlc2NyaXBjaW9uOiBTdHJpbmcsXHJcbiAgICBjYXRlZ29yaWE6IFN0cmluZyxcclxuICAgIGZlY2hhR2FzdG86IFN0cmluZyxcclxuICAgIG1vbnRvOiBOdW1iZXIsXHJcbiAgICBjYW50aWRhZDpOdW1iZXJcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gICAgdmVyc2lvbktleTogZmFsc2VcclxufSlcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0dhc3RvJywgR2FzdG9TY2hlbWEpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ3BDLE1BQU1DLE1BQU0sR0FBR0YsUUFBUSxDQUFDRSxNQUFNO0FBRTlCLE1BQU1DLFdBQVcsR0FBRyxJQUFJRCxNQUFNLENBQUM7RUFFM0JFLGFBQWEsRUFBRUMsTUFBTTtFQUNyQkMsV0FBVyxFQUFFRCxNQUFNO0VBQ25CRSxTQUFTLEVBQUVGLE1BQU07RUFDakJHLFVBQVUsRUFBRUgsTUFBTTtFQUNsQkksS0FBSyxFQUFFQyxNQUFNO0VBQ2JDLFFBQVEsRUFBQ0Q7QUFDYixDQUFDLEVBQUM7RUFDRUUsVUFBVSxFQUFFLElBQUk7RUFDaEJDLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUdmLFFBQVEsQ0FBQ2dCLEtBQUssQ0FBQyxPQUFPLEVBQUViLFdBQVcsQ0FBQyJ9","map":{"version":3,"names":["mongoose","require","Schema","GastoSchema","proyectoGasto","String","descripcion","categoria","fechaGasto","monto","Number","cantidad","timestamps","versionKey","module","exports","model"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\model\\","sources":["Gasto.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst GastoSchema = new Schema({\r\n    \r\n    proyectoGasto: String,\r\n    descripcion: String,\r\n    categoria: String,\r\n    fechaGasto: String,\r\n    monto: Number,\r\n    cantidad:Number\r\n},{\r\n    timestamps: true,\r\n    versionKey: false\r\n})\r\n\r\nmodule.exports = mongoose.model('Gasto', GastoSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAM;AAE9B,MAAMC,WAAW,GAAG,IAAID,MAAM,CAAC;EAE3BE,aAAa,EAAEC,MAAM;EACrBC,WAAW,EAAED,MAAM;EACnBE,SAAS,EAAEF,MAAM;EACjBG,UAAU,EAAEH,MAAM;EAClBI,KAAK,EAAEC,MAAM;EACbC,QAAQ,EAACD;AACb,CAAC,EAAC;EACEE,UAAU,EAAE,IAAI;EAChBC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGf,QAAQ,CAACgB,KAAK,CAAC,OAAO,EAAEb,WAAW,CAAC"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\routes\\\\inventario.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const express = require('express');\nconst router = express.Router();\nconst inventarioCtrl = require('../controllers/inventarioController');\nconst authJwt = require('../controllers/inventarioController');\nconst {\n  body,\n  validationResult\n} = require('express-validator');\nrouter.post('/', inventarioCtrl.createInventario);\nrouter.get('/', inventarioCtrl.getInventario);\nrouter.delete('/:inventarioId', inventarioCtrl.deleteInventarioById);\nrouter.put('/:inventarioId', inventarioCtrl.updateInventarioById);\n\n//router.post('/',[authJwt.verifyToken, authJwt.isModerator ], productsCtrl.createProduct)\n\n// router.get('/:productId', productsCtrl.getProductById)\n\n// router.put('/:productId', [authJwt.verifyToken, authJwt.isAdmin ] ,productsCtrl.updateProductById)\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImludmVudGFyaW9DdHJsIiwiYXV0aEp3dCIsImJvZHkiLCJ2YWxpZGF0aW9uUmVzdWx0IiwicG9zdCIsImNyZWF0ZUludmVudGFyaW8iLCJnZXQiLCJnZXRJbnZlbnRhcmlvIiwiZGVsZXRlIiwiZGVsZXRlSW52ZW50YXJpb0J5SWQiLCJwdXQiLCJ1cGRhdGVJbnZlbnRhcmlvQnlJZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiaW52ZW50YXJpby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5jb25zdCBpbnZlbnRhcmlvQ3RybCA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL2ludmVudGFyaW9Db250cm9sbGVyJyk7XHJcbmNvbnN0IGF1dGhKd3QgPSByZXF1aXJlKCcuLi9jb250cm9sbGVycy9pbnZlbnRhcmlvQ29udHJvbGxlcicpO1xyXG5jb25zdCB7IGJvZHksIHZhbGlkYXRpb25SZXN1bHQgfSA9IHJlcXVpcmUoJ2V4cHJlc3MtdmFsaWRhdG9yJyk7XHJcblxyXG5cclxuXHJcblxyXG5cclxucm91dGVyLnBvc3QoJy8nICxpbnZlbnRhcmlvQ3RybC5jcmVhdGVJbnZlbnRhcmlvKVxyXG5cclxucm91dGVyLmdldCgnLycsIGludmVudGFyaW9DdHJsLmdldEludmVudGFyaW8pXHJcblxyXG5yb3V0ZXIuZGVsZXRlKCcvOmludmVudGFyaW9JZCcsIGludmVudGFyaW9DdHJsLmRlbGV0ZUludmVudGFyaW9CeUlkKVxyXG5cclxucm91dGVyLnB1dCgnLzppbnZlbnRhcmlvSWQnICxpbnZlbnRhcmlvQ3RybC51cGRhdGVJbnZlbnRhcmlvQnlJZClcclxuXHJcbi8vcm91dGVyLnBvc3QoJy8nLFthdXRoSnd0LnZlcmlmeVRva2VuLCBhdXRoSnd0LmlzTW9kZXJhdG9yIF0sIHByb2R1Y3RzQ3RybC5jcmVhdGVQcm9kdWN0KVxyXG5cclxuXHJcbi8vIHJvdXRlci5nZXQoJy86cHJvZHVjdElkJywgcHJvZHVjdHNDdHJsLmdldFByb2R1Y3RCeUlkKVxyXG5cclxuLy8gcm91dGVyLnB1dCgnLzpwcm9kdWN0SWQnLCBbYXV0aEp3dC52ZXJpZnlUb2tlbiwgYXV0aEp3dC5pc0FkbWluIF0gLHByb2R1Y3RzQ3RybC51cGRhdGVQcm9kdWN0QnlJZClcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEVBQUU7QUFDL0IsTUFBTUMsY0FBYyxHQUFHSCxPQUFPLENBQUMscUNBQXFDLENBQUM7QUFDckUsTUFBTUksT0FBTyxHQUFHSixPQUFPLENBQUMscUNBQXFDLENBQUM7QUFDOUQsTUFBTTtFQUFFSyxJQUFJO0VBQUVDO0FBQWlCLENBQUMsR0FBR04sT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBTS9EQyxNQUFNLENBQUNNLElBQUksQ0FBQyxHQUFHLEVBQUVKLGNBQWMsQ0FBQ0ssZ0JBQWdCLENBQUM7QUFFakRQLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLEdBQUcsRUFBRU4sY0FBYyxDQUFDTyxhQUFhLENBQUM7QUFFN0NULE1BQU0sQ0FBQ1UsTUFBTSxDQUFDLGdCQUFnQixFQUFFUixjQUFjLENBQUNTLG9CQUFvQixDQUFDO0FBRXBFWCxNQUFNLENBQUNZLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRVYsY0FBYyxDQUFDVyxvQkFBb0IsQ0FBQzs7QUFFakU7O0FBR0E7O0FBRUE7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHZixNQUFNIn0=","map":{"version":3,"names":["express","require","router","Router","inventarioCtrl","authJwt","body","validationResult","post","createInventario","get","getInventario","delete","deleteInventarioById","put","updateInventarioById","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\routes\\","sources":["inventario.js"],"sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst inventarioCtrl = require('../controllers/inventarioController');\r\nconst authJwt = require('../controllers/inventarioController');\r\nconst { body, validationResult } = require('express-validator');\r\n\r\n\r\n\r\n\r\n\r\nrouter.post('/' ,inventarioCtrl.createInventario)\r\n\r\nrouter.get('/', inventarioCtrl.getInventario)\r\n\r\nrouter.delete('/:inventarioId', inventarioCtrl.deleteInventarioById)\r\n\r\nrouter.put('/:inventarioId' ,inventarioCtrl.updateInventarioById)\r\n\r\n//router.post('/',[authJwt.verifyToken, authJwt.isModerator ], productsCtrl.createProduct)\r\n\r\n\r\n// router.get('/:productId', productsCtrl.getProductById)\r\n\r\n// router.put('/:productId', [authJwt.verifyToken, authJwt.isAdmin ] ,productsCtrl.updateProductById)\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC/B,MAAMC,cAAc,GAAGH,OAAO,CAAC,qCAAqC,CAAC;AACrE,MAAMI,OAAO,GAAGJ,OAAO,CAAC,qCAAqC,CAAC;AAC9D,MAAM;EAAEK,IAAI;EAAEC;AAAiB,CAAC,GAAGN,OAAO,CAAC,mBAAmB,CAAC;AAM/DC,MAAM,CAACM,IAAI,CAAC,GAAG,EAAEJ,cAAc,CAACK,gBAAgB,CAAC;AAEjDP,MAAM,CAACQ,GAAG,CAAC,GAAG,EAAEN,cAAc,CAACO,aAAa,CAAC;AAE7CT,MAAM,CAACU,MAAM,CAAC,gBAAgB,EAAER,cAAc,CAACS,oBAAoB,CAAC;AAEpEX,MAAM,CAACY,GAAG,CAAC,gBAAgB,EAAEV,cAAc,CAACW,oBAAoB,CAAC;;AAEjE;;AAGA;;AAEA;;AAEAC,MAAM,CAACC,OAAO,GAAGf,MAAM"}},"mtime":1668807359168},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\controllers\\\\inventarioController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const Inventario = require('../model/Inventario');\nconst {\n  validationResult\n} = require('express-validator');\nconst createInventario = async (req, res) => {\n  const {\n    id,\n    nombre,\n    marca,\n    modelo,\n    cantidad,\n    precio,\n    categoria,\n    fechaIngreso,\n    antiguedad,\n    FechaActualizacion\n  } = req.body;\n  const newInventario = new Inventario({\n    id,\n    nombre,\n    marca,\n    modelo,\n    cantidad,\n    precio,\n    categoria,\n    fechaIngreso,\n    antiguedad,\n    FechaActualizacion\n  });\n  const inventarioSaved = await newInventario.save();\n  res.status(201).json(inventarioSaved);\n};\nconst getInventario = async (req, res) => {\n  const inventario = await Inventario.find();\n  res.json(inventario);\n};\nconst updateInventarioById = async (req, res) => {\n  console.log(\"inventarios\" + req.params.inventarioId);\n  const updatedInventario = await Inventario.findByIdAndUpdate(req.params.inventarioId, req.body, {\n    new: true\n  });\n  res.status(200).json(updatedInventario);\n};\nconst deleteInventarioById = async (req, res) => {\n  const {\n    inventarioId\n  } = req.params;\n  console.log(inventarioId);\n  await Inventario.findByIdAndDelete(inventarioId);\n  res.status(204).json();\n};\nmodule.exports = {\n  createInventario,\n  getInventario,\n  updateInventarioById,\n  deleteInventarioById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbnZlbnRhcmlvIiwicmVxdWlyZSIsInZhbGlkYXRpb25SZXN1bHQiLCJjcmVhdGVJbnZlbnRhcmlvIiwicmVxIiwicmVzIiwiaWQiLCJub21icmUiLCJtYXJjYSIsIm1vZGVsbyIsImNhbnRpZGFkIiwicHJlY2lvIiwiY2F0ZWdvcmlhIiwiZmVjaGFJbmdyZXNvIiwiYW50aWd1ZWRhZCIsIkZlY2hhQWN0dWFsaXphY2lvbiIsImJvZHkiLCJuZXdJbnZlbnRhcmlvIiwiaW52ZW50YXJpb1NhdmVkIiwic2F2ZSIsInN0YXR1cyIsImpzb24iLCJnZXRJbnZlbnRhcmlvIiwiaW52ZW50YXJpbyIsImZpbmQiLCJ1cGRhdGVJbnZlbnRhcmlvQnlJZCIsImNvbnNvbGUiLCJsb2ciLCJwYXJhbXMiLCJpbnZlbnRhcmlvSWQiLCJ1cGRhdGVkSW52ZW50YXJpbyIsImZpbmRCeUlkQW5kVXBkYXRlIiwibmV3IiwiZGVsZXRlSW52ZW50YXJpb0J5SWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcd2lsbGlcXERvY3VtZW50c1xcR2l0SHViXFxQcm95ZWN0b1JlYWN0VW5pdmVyc2lkYWRcXFNlcnZlclxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJpbnZlbnRhcmlvQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBJbnZlbnRhcmlvID0gcmVxdWlyZSgnLi4vbW9kZWwvSW52ZW50YXJpbycpO1xyXG5jb25zdCB7dmFsaWRhdGlvblJlc3VsdH0gPSByZXF1aXJlKCdleHByZXNzLXZhbGlkYXRvcicpO1xyXG5cclxuXHJcblxyXG5jb25zdCBjcmVhdGVJbnZlbnRhcmlvID0gYXN5bmMocmVxLCByZXMpID0+IHtcclxuICAgICBcclxuICAgIGNvbnN0IHtpZCwgbm9tYnJlLCBtYXJjYSwgbW9kZWxvLCBjYW50aWRhZCwgcHJlY2lvLCBjYXRlZ29yaWEsIGZlY2hhSW5ncmVzbywgYW50aWd1ZWRhZCwgRmVjaGFBY3R1YWxpemFjaW9ufSA9IHJlcS5ib2R5XHJcbiAgICBcclxuICAgIGNvbnN0IG5ld0ludmVudGFyaW8gPSBuZXcgSW52ZW50YXJpbyh7aWQsIG5vbWJyZSwgbWFyY2EsIG1vZGVsbywgY2FudGlkYWQsIHByZWNpbywgY2F0ZWdvcmlhLCBmZWNoYUluZ3Jlc28sIGFudGlndWVkYWQsIEZlY2hhQWN0dWFsaXphY2lvbn0pXHJcblxyXG4gICAgY29uc3QgaW52ZW50YXJpb1NhdmVkID0gYXdhaXQgbmV3SW52ZW50YXJpby5zYXZlKClcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbihpbnZlbnRhcmlvU2F2ZWQpXHJcblxyXG59XHJcblxyXG5cclxuY29uc3QgZ2V0SW52ZW50YXJpbyA9IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpbnZlbnRhcmlvID0gYXdhaXQgSW52ZW50YXJpby5maW5kKClcclxuICAgIHJlcy5qc29uKGludmVudGFyaW8pXHJcbn1cclxuXHJcbiBjb25zdCB1cGRhdGVJbnZlbnRhcmlvQnlJZCA9IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcImludmVudGFyaW9zXCIgKyByZXEucGFyYW1zLmludmVudGFyaW9JZClcclxuICAgIGNvbnN0IHVwZGF0ZWRJbnZlbnRhcmlvID0gYXdhaXQgSW52ZW50YXJpby5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmludmVudGFyaW9JZCwgcmVxLmJvZHksIHtcclxuICAgICAgICBuZXc6IHRydWVcclxuICAgIH0pXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1cGRhdGVkSW52ZW50YXJpbylcclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBkZWxldGVJbnZlbnRhcmlvQnlJZCA9IGFzeW5jKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7aW52ZW50YXJpb0lkfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zb2xlLmxvZyhpbnZlbnRhcmlvSWQpXHJcbiAgICBhd2FpdCBJbnZlbnRhcmlvLmZpbmRCeUlkQW5kRGVsZXRlKGludmVudGFyaW9JZClcclxuICAgIHJlcy5zdGF0dXMoMjA0KS5qc29uKClcclxuICAgIFxyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjcmVhdGVJbnZlbnRhcmlvLFxyXG4gICAgZ2V0SW52ZW50YXJpbyxcclxuICAgIHVwZGF0ZUludmVudGFyaW9CeUlkLFxyXG4gICAgZGVsZXRlSW52ZW50YXJpb0J5SWRcclxufSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMscUJBQXFCLENBQUM7QUFDakQsTUFBTTtFQUFDQztBQUFnQixDQUFDLEdBQUdELE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUl2RCxNQUFNRSxnQkFBZ0IsR0FBRyxPQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUV4QyxNQUFNO0lBQUNDLEVBQUU7SUFBRUMsTUFBTTtJQUFFQyxLQUFLO0lBQUVDLE1BQU07SUFBRUMsUUFBUTtJQUFFQyxNQUFNO0lBQUVDLFNBQVM7SUFBRUMsWUFBWTtJQUFFQyxVQUFVO0lBQUVDO0VBQWtCLENBQUMsR0FBR1gsR0FBRyxDQUFDWSxJQUFJO0VBRXZILE1BQU1DLGFBQWEsR0FBRyxJQUFJakIsVUFBVSxDQUFDO0lBQUNNLEVBQUU7SUFBRUMsTUFBTTtJQUFFQyxLQUFLO0lBQUVDLE1BQU07SUFBRUMsUUFBUTtJQUFFQyxNQUFNO0lBQUVDLFNBQVM7SUFBRUMsWUFBWTtJQUFFQyxVQUFVO0lBQUVDO0VBQWtCLENBQUMsQ0FBQztFQUU1SSxNQUFNRyxlQUFlLEdBQUcsTUFBTUQsYUFBYSxDQUFDRSxJQUFJLEVBQUU7RUFFbERkLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNILGVBQWUsQ0FBQztBQUV6QyxDQUFDO0FBR0QsTUFBTUksYUFBYSxHQUFHLE9BQU1sQixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNyQyxNQUFNa0IsVUFBVSxHQUFHLE1BQU12QixVQUFVLENBQUN3QixJQUFJLEVBQUU7RUFDMUNuQixHQUFHLENBQUNnQixJQUFJLENBQUNFLFVBQVUsQ0FBQztBQUN4QixDQUFDO0FBRUEsTUFBTUUsb0JBQW9CLEdBQUcsT0FBTXJCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzdDcUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsYUFBYSxHQUFHdkIsR0FBRyxDQUFDd0IsTUFBTSxDQUFDQyxZQUFZLENBQUM7RUFDcEQsTUFBTUMsaUJBQWlCLEdBQUcsTUFBTTlCLFVBQVUsQ0FBQytCLGlCQUFpQixDQUFDM0IsR0FBRyxDQUFDd0IsTUFBTSxDQUFDQyxZQUFZLEVBQUV6QixHQUFHLENBQUNZLElBQUksRUFBRTtJQUM1RmdCLEdBQUcsRUFBRTtFQUNULENBQUMsQ0FBQztFQUNGM0IsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ1MsaUJBQWlCLENBQUM7QUFFM0MsQ0FBQztBQUVELE1BQU1HLG9CQUFvQixHQUFHLE9BQU03QixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM1QyxNQUFNO0lBQUN3QjtFQUFZLENBQUMsR0FBR3pCLEdBQUcsQ0FBQ3dCLE1BQU07RUFDakNGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxZQUFZLENBQUM7RUFDekIsTUFBTTdCLFVBQVUsQ0FBQ2tDLGlCQUFpQixDQUFDTCxZQUFZLENBQUM7RUFDaER4QixHQUFHLENBQUNlLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxFQUFFO0FBRTFCLENBQUM7QUFHRGMsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDYmpDLGdCQUFnQjtFQUNoQm1CLGFBQWE7RUFDYkcsb0JBQW9CO0VBQ3BCUTtBQUNKLENBQUMifQ==","map":{"version":3,"names":["Inventario","require","validationResult","createInventario","req","res","id","nombre","marca","modelo","cantidad","precio","categoria","fechaIngreso","antiguedad","FechaActualizacion","body","newInventario","inventarioSaved","save","status","json","getInventario","inventario","find","updateInventarioById","console","log","params","inventarioId","updatedInventario","findByIdAndUpdate","new","deleteInventarioById","findByIdAndDelete","module","exports"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\controllers\\","sources":["inventarioController.js"],"sourcesContent":["const Inventario = require('../model/Inventario');\r\nconst {validationResult} = require('express-validator');\r\n\r\n\r\n\r\nconst createInventario = async(req, res) => {\r\n     \r\n    const {id, nombre, marca, modelo, cantidad, precio, categoria, fechaIngreso, antiguedad, FechaActualizacion} = req.body\r\n    \r\n    const newInventario = new Inventario({id, nombre, marca, modelo, cantidad, precio, categoria, fechaIngreso, antiguedad, FechaActualizacion})\r\n\r\n    const inventarioSaved = await newInventario.save()\r\n\r\n    res.status(201).json(inventarioSaved)\r\n\r\n}\r\n\r\n\r\nconst getInventario = async(req, res) => {\r\n    const inventario = await Inventario.find()\r\n    res.json(inventario)\r\n}\r\n\r\n const updateInventarioById = async(req, res) => {\r\n    console.log(\"inventarios\" + req.params.inventarioId)\r\n    const updatedInventario = await Inventario.findByIdAndUpdate(req.params.inventarioId, req.body, {\r\n        new: true\r\n    })\r\n    res.status(200).json(updatedInventario)\r\n    \r\n}\r\n\r\nconst deleteInventarioById = async(req, res) => {\r\n    const {inventarioId} = req.params;\r\n    console.log(inventarioId)\r\n    await Inventario.findByIdAndDelete(inventarioId)\r\n    res.status(204).json()\r\n    \r\n}\r\n\r\n\r\nmodule.exports = {\r\n    createInventario,\r\n    getInventario,\r\n    updateInventarioById,\r\n    deleteInventarioById\r\n}"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AACjD,MAAM;EAACC;AAAgB,CAAC,GAAGD,OAAO,CAAC,mBAAmB,CAAC;AAIvD,MAAME,gBAAgB,GAAG,OAAMC,GAAG,EAAEC,GAAG,KAAK;EAExC,MAAM;IAACC,EAAE;IAAEC,MAAM;IAAEC,KAAK;IAAEC,MAAM;IAAEC,QAAQ;IAAEC,MAAM;IAAEC,SAAS;IAAEC,YAAY;IAAEC,UAAU;IAAEC;EAAkB,CAAC,GAAGX,GAAG,CAACY,IAAI;EAEvH,MAAMC,aAAa,GAAG,IAAIjB,UAAU,CAAC;IAACM,EAAE;IAAEC,MAAM;IAAEC,KAAK;IAAEC,MAAM;IAAEC,QAAQ;IAAEC,MAAM;IAAEC,SAAS;IAAEC,YAAY;IAAEC,UAAU;IAAEC;EAAkB,CAAC,CAAC;EAE5I,MAAMG,eAAe,GAAG,MAAMD,aAAa,CAACE,IAAI,EAAE;EAElDd,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACH,eAAe,CAAC;AAEzC,CAAC;AAGD,MAAMI,aAAa,GAAG,OAAMlB,GAAG,EAAEC,GAAG,KAAK;EACrC,MAAMkB,UAAU,GAAG,MAAMvB,UAAU,CAACwB,IAAI,EAAE;EAC1CnB,GAAG,CAACgB,IAAI,CAACE,UAAU,CAAC;AACxB,CAAC;AAEA,MAAME,oBAAoB,GAAG,OAAMrB,GAAG,EAAEC,GAAG,KAAK;EAC7CqB,OAAO,CAACC,GAAG,CAAC,aAAa,GAAGvB,GAAG,CAACwB,MAAM,CAACC,YAAY,CAAC;EACpD,MAAMC,iBAAiB,GAAG,MAAM9B,UAAU,CAAC+B,iBAAiB,CAAC3B,GAAG,CAACwB,MAAM,CAACC,YAAY,EAAEzB,GAAG,CAACY,IAAI,EAAE;IAC5FgB,GAAG,EAAE;EACT,CAAC,CAAC;EACF3B,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACS,iBAAiB,CAAC;AAE3C,CAAC;AAED,MAAMG,oBAAoB,GAAG,OAAM7B,GAAG,EAAEC,GAAG,KAAK;EAC5C,MAAM;IAACwB;EAAY,CAAC,GAAGzB,GAAG,CAACwB,MAAM;EACjCF,OAAO,CAACC,GAAG,CAACE,YAAY,CAAC;EACzB,MAAM7B,UAAU,CAACkC,iBAAiB,CAACL,YAAY,CAAC;EAChDxB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,EAAE;AAE1B,CAAC;AAGDc,MAAM,CAACC,OAAO,GAAG;EACbjC,gBAAgB;EAChBmB,aAAa;EACbG,oBAAoB;EACpBQ;AACJ,CAAC"}},"mtime":1668807359152},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\inventario.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst InventarioSchema = new Schema({\n  id: String,\n  nombre: String,\n  marca: String,\n  modelo: String,\n  cantidad: Number,\n  precio: Number,\n  categoria: String,\n  fechaIngreso: String,\n  antiguedad: String,\n  FechaActualizacion: String\n}, {\n  timestamps: true,\n  versionKey: false\n});\nmodule.exports = mongoose.model('Inventario', InventarioSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJJbnZlbnRhcmlvU2NoZW1hIiwiaWQiLCJTdHJpbmciLCJub21icmUiLCJtYXJjYSIsIm1vZGVsbyIsImNhbnRpZGFkIiwiTnVtYmVyIiwicHJlY2lvIiwiY2F0ZWdvcmlhIiwiZmVjaGFJbmdyZXNvIiwiYW50aWd1ZWRhZCIsIkZlY2hhQWN0dWFsaXphY2lvbiIsInRpbWVzdGFtcHMiLCJ2ZXJzaW9uS2V5IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xcbW9kZWxcXCIsInNvdXJjZXMiOlsiaW52ZW50YXJpby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IEludmVudGFyaW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIGlkOiBTdHJpbmcsXHJcbiAgICBub21icmU6IFN0cmluZyxcclxuICAgIG1hcmNhOiBTdHJpbmcsXHJcbiAgICBtb2RlbG86IFN0cmluZyxcclxuICAgIGNhbnRpZGFkOiBOdW1iZXIsXHJcbiAgICBwcmVjaW86IE51bWJlcixcclxuICAgIGNhdGVnb3JpYTogU3RyaW5nLFxyXG4gICAgZmVjaGFJbmdyZXNvOiBTdHJpbmcsXHJcbiAgICBhbnRpZ3VlZGFkOiBTdHJpbmcsXHJcbiAgICBGZWNoYUFjdHVhbGl6YWNpb246IFN0cmluZ1xyXG5cclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gICAgdmVyc2lvbktleTogZmFsc2VcclxufSlcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0ludmVudGFyaW8nLCBJbnZlbnRhcmlvU2NoZW1hKTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQ0UsTUFBTTtBQUU5QixNQUFNQyxnQkFBZ0IsR0FBRyxJQUFJRCxNQUFNLENBQUM7RUFDaENFLEVBQUUsRUFBRUMsTUFBTTtFQUNWQyxNQUFNLEVBQUVELE1BQU07RUFDZEUsS0FBSyxFQUFFRixNQUFNO0VBQ2JHLE1BQU0sRUFBRUgsTUFBTTtFQUNkSSxRQUFRLEVBQUVDLE1BQU07RUFDaEJDLE1BQU0sRUFBRUQsTUFBTTtFQUNkRSxTQUFTLEVBQUVQLE1BQU07RUFDakJRLFlBQVksRUFBRVIsTUFBTTtFQUNwQlMsVUFBVSxFQUFFVCxNQUFNO0VBQ2xCVSxrQkFBa0IsRUFBRVY7QUFFeEIsQ0FBQyxFQUFDO0VBQ0VXLFVBQVUsRUFBRSxJQUFJO0VBQ2hCQyxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHbkIsUUFBUSxDQUFDb0IsS0FBSyxDQUFDLFlBQVksRUFBRWpCLGdCQUFnQixDQUFDIn0=","map":{"version":3,"names":["mongoose","require","Schema","InventarioSchema","id","String","nombre","marca","modelo","cantidad","Number","precio","categoria","fechaIngreso","antiguedad","FechaActualizacion","timestamps","versionKey","module","exports","model"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\model\\","sources":["inventario.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst InventarioSchema = new Schema({\r\n    id: String,\r\n    nombre: String,\r\n    marca: String,\r\n    modelo: String,\r\n    cantidad: Number,\r\n    precio: Number,\r\n    categoria: String,\r\n    fechaIngreso: String,\r\n    antiguedad: String,\r\n    FechaActualizacion: String\r\n\r\n},{\r\n    timestamps: true,\r\n    versionKey: false\r\n})\r\n\r\nmodule.exports = mongoose.model('Inventario', InventarioSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAM;AAE9B,MAAMC,gBAAgB,GAAG,IAAID,MAAM,CAAC;EAChCE,EAAE,EAAEC,MAAM;EACVC,MAAM,EAAED,MAAM;EACdE,KAAK,EAAEF,MAAM;EACbG,MAAM,EAAEH,MAAM;EACdI,QAAQ,EAAEC,MAAM;EAChBC,MAAM,EAAED,MAAM;EACdE,SAAS,EAAEP,MAAM;EACjBQ,YAAY,EAAER,MAAM;EACpBS,UAAU,EAAET,MAAM;EAClBU,kBAAkB,EAAEV;AAExB,CAAC,EAAC;EACEW,UAAU,EAAE,IAAI;EAChBC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGnB,QAAQ,CAACoB,KAAK,CAAC,YAAY,EAAEjB,gBAAgB,CAAC"}},"mtime":1667510008605},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"filename\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\\\\src\\\\model\\\\Inventario.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\willi\\\\Documents\\\\GitHub\\\\ProyectoReactUniversidad\\\\Server\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.6:development":{"value":{"code":"const mongoose = require('mongoose');\nconst Schema = mongoose.Schema;\nconst InventarioSchema = new Schema({\n  id: String,\n  nombre: String,\n  marca: String,\n  modelo: String,\n  cantidad: Number,\n  precio: Number,\n  categoria: String,\n  fechaIngreso: String,\n  antiguedad: String,\n  FechaActualizacion: String\n}, {\n  timestamps: true,\n  versionKey: false\n});\nmodule.exports = mongoose.model('Inventario', InventarioSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJJbnZlbnRhcmlvU2NoZW1hIiwiaWQiLCJTdHJpbmciLCJub21icmUiLCJtYXJjYSIsIm1vZGVsbyIsImNhbnRpZGFkIiwiTnVtYmVyIiwicHJlY2lvIiwiY2F0ZWdvcmlhIiwiZmVjaGFJbmdyZXNvIiwiYW50aWd1ZWRhZCIsIkZlY2hhQWN0dWFsaXphY2lvbiIsInRpbWVzdGFtcHMiLCJ2ZXJzaW9uS2V5IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHdpbGxpXFxEb2N1bWVudHNcXEdpdEh1YlxcUHJveWVjdG9SZWFjdFVuaXZlcnNpZGFkXFxTZXJ2ZXJcXHNyY1xcbW9kZWxcXCIsInNvdXJjZXMiOlsiSW52ZW50YXJpby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IEludmVudGFyaW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIGlkOiBTdHJpbmcsXHJcbiAgICBub21icmU6IFN0cmluZyxcclxuICAgIG1hcmNhOiBTdHJpbmcsXHJcbiAgICBtb2RlbG86IFN0cmluZyxcclxuICAgIGNhbnRpZGFkOiBOdW1iZXIsXHJcbiAgICBwcmVjaW86IE51bWJlcixcclxuICAgIGNhdGVnb3JpYTogU3RyaW5nLFxyXG4gICAgZmVjaGFJbmdyZXNvOiBTdHJpbmcsXHJcbiAgICBhbnRpZ3VlZGFkOiBTdHJpbmcsXHJcbiAgICBGZWNoYUFjdHVhbGl6YWNpb246IFN0cmluZ1xyXG5cclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gICAgdmVyc2lvbktleTogZmFsc2VcclxufSlcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0ludmVudGFyaW8nLCBJbnZlbnRhcmlvU2NoZW1hKTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQ0UsTUFBTTtBQUU5QixNQUFNQyxnQkFBZ0IsR0FBRyxJQUFJRCxNQUFNLENBQUM7RUFDaENFLEVBQUUsRUFBRUMsTUFBTTtFQUNWQyxNQUFNLEVBQUVELE1BQU07RUFDZEUsS0FBSyxFQUFFRixNQUFNO0VBQ2JHLE1BQU0sRUFBRUgsTUFBTTtFQUNkSSxRQUFRLEVBQUVDLE1BQU07RUFDaEJDLE1BQU0sRUFBRUQsTUFBTTtFQUNkRSxTQUFTLEVBQUVQLE1BQU07RUFDakJRLFlBQVksRUFBRVIsTUFBTTtFQUNwQlMsVUFBVSxFQUFFVCxNQUFNO0VBQ2xCVSxrQkFBa0IsRUFBRVY7QUFFeEIsQ0FBQyxFQUFDO0VBQ0VXLFVBQVUsRUFBRSxJQUFJO0VBQ2hCQyxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHbkIsUUFBUSxDQUFDb0IsS0FBSyxDQUFDLFlBQVksRUFBRWpCLGdCQUFnQixDQUFDIn0=","map":{"version":3,"names":["mongoose","require","Schema","InventarioSchema","id","String","nombre","marca","modelo","cantidad","Number","precio","categoria","fechaIngreso","antiguedad","FechaActualizacion","timestamps","versionKey","module","exports","model"],"sourceRoot":"C:\\Users\\willi\\Documents\\GitHub\\ProyectoReactUniversidad\\Server\\src\\model\\","sources":["Inventario.js"],"sourcesContent":["const mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst InventarioSchema = new Schema({\r\n    id: String,\r\n    nombre: String,\r\n    marca: String,\r\n    modelo: String,\r\n    cantidad: Number,\r\n    precio: Number,\r\n    categoria: String,\r\n    fechaIngreso: String,\r\n    antiguedad: String,\r\n    FechaActualizacion: String\r\n\r\n},{\r\n    timestamps: true,\r\n    versionKey: false\r\n})\r\n\r\nmodule.exports = mongoose.model('Inventario', InventarioSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMC,MAAM,GAAGF,QAAQ,CAACE,MAAM;AAE9B,MAAMC,gBAAgB,GAAG,IAAID,MAAM,CAAC;EAChCE,EAAE,EAAEC,MAAM;EACVC,MAAM,EAAED,MAAM;EACdE,KAAK,EAAEF,MAAM;EACbG,MAAM,EAAEH,MAAM;EACdI,QAAQ,EAAEC,MAAM;EAChBC,MAAM,EAAED,MAAM;EACdE,SAAS,EAAEP,MAAM;EACjBQ,YAAY,EAAER,MAAM;EACpBS,UAAU,EAAET,MAAM;EAClBU,kBAAkB,EAAEV;AAExB,CAAC,EAAC;EACEW,UAAU,EAAE,IAAI;EAChBC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGnB,QAAQ,CAACoB,KAAK,CAAC,YAAY,EAAEjB,gBAAgB,CAAC"}},"mtime":1668807359168}}